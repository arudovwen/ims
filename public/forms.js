(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+BOi":function(t,e,o){"use strict";var a=o("iWoT");o.n(a).a},"1djF":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-f585a72c] {\n  padding: 50px 15px;\n  height: 100vh;\n}\n.box[data-v-f585a72c]{\n  height: 200px;\n  width: 32%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.bg-lightwhite[data-v-f585a72c]{\n  background:#f7f8fa;\n}\n",""])},"2v8t":function(t,e,o){"use strict";o.r(e);var a={data:function(){return{type:"",appFields:["sn","title","description","purpose","phases","action"],appGroups:[],group:{title:"",description:"",purpose:"",phase:""}}},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))},addGroup:function(){var t=this;axios.post("/api/app-group",this.group).then((function(e){201==e.status&&(t.getGroups(),t.group={title:"",description:"",purpose:"",phase:""})}))}}},s=(o("syty"),o("KHd+")),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[""==t.type?o("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("group")}}},[t._v("Application Group")]),t._v(" "),o("b-col",{staticClass:"box shadow"},[o("router-link",{attrs:{to:"/form-create"}},[t._v("Forms")])],1),t._v(" "),o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("applications")}}},[t._v("Applications")])],1):t._e(),t._v(" "),"group"==t.type?o("b-row",[o("b-col",[o("b-row",[o("h4",{staticClass:"mb-4"},[t._v("Application Groups")])]),t._v(" "),o("b-row",{staticClass:"mb-3"},[o("b-col",{attrs:{cols:"9"}},[o("b-table",{attrs:{items:t.appGroups,fields:t.appFields},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",[t._v("Edit")])]}}],null,!1,493339137)})],1),t._v(" "),o("b-col",{staticClass:"bg-lightwhite p-2",attrs:{cols:"3"}},[o("b-form",[o("div",{staticClass:"text-center"},[o("strong",[t._v("New Group")])]),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Title"},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phases")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"4",type:"number"},model:{value:t.group.phase,callback:function(e){t.$set(t.group,"phase",e)},expression:"group.phase"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.purpose,callback:function(e){t.$set(t.group,"purpose",e)},expression:"group.purpose"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("b-button",{on:{click:t.addGroup}},[t._v("Create")])],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)}),[],!1,null,"f585a72c",null);e.default=n.exports},"4++f":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".container[data-v-61a88e93] {\n  padding: 50px 0;\n}\n.form-group[data-v-61a88e93] {\n  margin-bottom: 24px;\n}",""])},"40n9":function(t,e,o){"use strict";var a=o("Lp6u");o.n(a).a},"4loR":function(t,e,o){"use strict";o.r(e);var a={data:function(){return{fields:["sn","full_name","phone","group","phase","name","price","status","action"],items:[],id:null}},components:{Review:o("DLw3").default},mounted:function(){this.getItems()},methods:{handleStatus:function(t,e){var o=this,a={status:e};axios.put("/api/application/".concat(t),a).then((function(t){200==t.status&&o.getItems()}))},getItems:function(){var t=this;axios.get("/api/application").then((function(e){200==e.status&&(t.items=e.data)}))},view:function(t){this.id=t,this.$bvModal.show("modal-1")}}},s=(o("PkJD"),o("KHd+")),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"text-right"},[o("router-link",{attrs:{to:"/admin/forms"}},[o("b-button",{attrs:{variant:"outline-darkgreen"}},[t._v("Back")])],1)],1)]),t._v(" "),o("h5",{staticClass:"mb-4"},[t._v("Applications")]),t._v(" "),o("b-table",{attrs:{items:t.items,fields:t.fields,bordered:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",{staticClass:"tab d-flex justify-content-between stat"},[o("span",{on:{click:function(o){return t.view(e.item.id)}}},[t._v("View")]),t._v(" "),"pending"==e.item.status.toLowerCase()?o("span",[o("span",{staticClass:"mr-4 cpointer",on:{click:function(o){return t.handleStatus(e.item.id,"approved")}}},[t._v("\n              Approve\n              "),o("i",{staticClass:"fa fa-check text-success",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("span",{staticClass:"cpointer",on:{click:function(o){return t.handleStatus(e.item.id,"declined")}}},[t._v("\n              Decline\n              "),o("i",{staticClass:"fa fa-times text-danger",attrs:{"aria-hidden":"true"}})])]):t._e()])]}}])})],1),t._v(" "),o("b-modal",{attrs:{id:"modal-1",size:"lg","hide-footer":""}},[o("Review",{attrs:{id:t.id}})],1)],1)}),[],!1,null,"81d7599c",null);e.default=n.exports},"4oUW":function(t,e,o){var a=o("1djF");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},"5i1B":function(t,e,o){"use strict";var a=o("8nal");o.n(a).a},"5xyH":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-08565800]{\n    padding:50px 15px;\n}\n",""])},"8nal":function(t,e,o){var a=o("Vx6J");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},ByQM:function(t,e,o){"use strict";var a=o("EZky");o.n(a).a},DLw3:function(t,e,o){"use strict";o.r(e);var a=o("HsP9"),s=o("HBaR"),n={data:function(){return{email:"",phone:null,full_name:"",form:{},num:0,template:[],options:{},show:!1,show_feedback:!1}},components:{Upload:a.a,Payment:s.a},mounted:function(){this.getItems(this.$route.params.id),this.getLga()},methods:{closeForm:function(){this.$router.push("/forms")},getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},getUploadDetails:function(t,e,o){this.template[this.num].question[t].documents[e].file=o.secure_url},next:function(){this.num++},prev:function(){0!==this.num&&this.num--},handleShow:function(){var t=this;if(""!==this.email&&""!==this.full_name){var e={group:this.options.app_group,full_name:this.full_name,email:this.email,phone:this.phone,phase:this.options.phase};axios.post("/api/check-phase",e).then((function(e){200==e.status&&("approved"==e.data.status?t.show=!t.show:t.$bvModal.show("modal-2"))}))}else this.$toasted.info("Fill all fields")},getItems:function(t){var e=this;axios.get("/api/form-template/".concat(t)).then((function(t){200==t.status&&(e.form=t.data,e.template=JSON.parse(t.data.template),e.options=JSON.parse(t.data.options))}))},removeMore:function(t){this.template[this.num].question[t].answers.pop()},addMore:function(t){this.template[this.num].question[t].answers.push({answer:""})},addDoc:function(t){this.template[this.num].question[t].documents.push({name:"",file:""})},removeDoc:function(t){this.template[this.num].question[t].documents.pop()},handleObj:function(){},addRow:function(t){var e={};this.template[this.num].question[t].fields.forEach((function(t){e[t]="",console.log("addRow -> item",t)})),this.template[this.num].question[t].items.push(e)},removeRow:function(t){this.template[this.num].question[t].items.pop()}}},i=(o("+BOi"),o("KHd+")),r=Object(i.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("router-link",{attrs:{to:"/forms"}},[o("b-button",{staticClass:"m-2 mx-5",attrs:{variant:"outline-darkgreen"}},[t._v("Back")])],1)],1),t._v(" "),t.form&&t.options?o("b-container",[o("b-form",{staticClass:"border p-3",on:{submit:function(t){t.preventDefault()}}},[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.form.title))]),t._v(" "),t.show?t._e():o("b-row",{staticClass:"p-4"},[o("b-col",{attrs:{cols:"4"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Full name")]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:"Enter name"},model:{value:t.full_name,callback:function(e){t.full_name=e},expression:"full_name"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"5"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Email")]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:"Enter email address"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phone number")]),t._v(" "),o("b-form-input",{attrs:{type:"number",max:"11",placeholder:"Enter phone number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),t._v(" "),t.show?t._e():o("section",{staticClass:"text-center"},[o("b-form-row",[o("b-col",{staticClass:"text-center"},[o("p",{domProps:{innerHTML:t._s(t.options.description)}})])],1),t._v(" "),o("b-form-row",{staticClass:"justify-content-center"},[o("b-button",{on:{click:t.handleShow}},[t._v("Begin Application")])],1)],1),t._v(" "),t.show&&t.num<t.template.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.template[t.num].title))]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.template[t.num].description)}})])],1),t._v(" "),o("b-form-row",[o("ol",{staticClass:"w-100"},t._l(t.template[t.num].question,(function(e,a){return o("li",{key:a},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Lga")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-checkbox",{key:s,attrs:{value:a.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-radio",{key:s,attrs:{value:a.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",[o("label",{staticClass:"mb-3",attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.answers,(function(e,a){return o("div",{key:a},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),t._v(" "),o("div",[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addMore(a)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),e.answers.length>1?o("b-button",{on:{click:function(e){return t.removeMore(a)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})]):t._e()],1)],2):t._e()],1),t._v(" "),o("b-col",[e.tools.length?o("div",[e.tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-button",{staticClass:"mb-2",on:{click:function(e){return t.addRow(a)}}},[t._v("Add row")]),t._v(" "),e.items.length>1?o("b-button",{staticClass:"mb-2",on:{click:function(e){return t.removeRow(a)}}},[t._v("Remove row")]):t._e(),t._v(" "),o("b-table",{attrs:{fields:Object.keys(e.items[0]),items:e.items,bordered:""},scopedSlots:t._u([t._l(e.fields,(function(e,a){return{key:"cell("+e+")",fn:function(a){return[o("b-form-input",{attrs:{placeholder:"type"},model:{value:a.item[e],callback:function(o){t.$set(a.item,e,o)},expression:"data.item[field]"}})]}}}))],null,!0)})],1)],1):t._e(),t._v(" "),e.tools.includes("docs")||e.tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("label",{staticClass:"mb-3",attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("small",{domProps:{innerHTML:t._s(e.tools_description)}}),t._v(" "),o("div",{staticClass:"my-2"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addDoc(a)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),e.documents.length>1?o("b-button",{on:{click:function(e){return t.removeDoc(a)}}},[o("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),o("b-form-row",{staticClass:"w-100"},t._l(e.documents,(function(s,n){return o("b-col",{key:n,staticClass:"p-2",attrs:{cols:"3"}},[o("div",{staticClass:"border upload"},[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:a,id:n,label:s.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),e.tools.includes("media")?o("b-img",{attrs:{rounded:"",fluid:"",width:"150px",src:s.file}}):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()])],1)})),0)])],1):t._e(),t._v(" "),t.options.signature?o("div",[t.show&&t.num>=t.template.length?o("section",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v("SIGNATURE")]),t._v(" "),o("p",[o("strong",[t._v("I certify that the information submitted in this application is true and correct to the best of my knowledge.")])]),t._v(" "),o("p",[t._v("I further understand that any false statements may result in denial or revocation of the approval.")]),t._v(" "),o("p",[t._v("Full Name :")]),t._v(" "),o("p",[t._v("Date :")])])],1),t._v(" "),o("hr"),t._v(" "),t.options.payment?o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("p",[o("strong",[t._v("Price: ₦ "+t._s(t.options.price)+".00")])])])],1):t._e()],1):t._e()]):t._e(),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between px-3 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.template.length?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.options.payment&&t.num>=t.template.length?o("div",[o("Payment")],1):t._e(),t._v(" "),!t.options.payment&&t.num>=t.template.length?o("div",[o("b-button",{attrs:{type:"submit"}},[t._v("Submit")])],1):t._e()],1):t._e()],1)],1):t._e(),t._v(" "),t.options.feedback?o("b-modal",{attrs:{id:"modal-1",size:"lg","hide-footer":""}},[t.options.feedback?o("div",{staticClass:"text-center"},[o("h5",[t._v(t._s(t.options.feedback.title))]),t._v(" "),o("p",[t._v(t._s(t.options.feedback.text))]),t._v(" "),o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:t.closeForm}},[t._v("Close")])],1):t._e()]):t._e(),t._v(" "),o("b-modal",{attrs:{id:"modal-2",size:"lg","hide-footer":""}},[o("div",{staticClass:"text-center"},[o("h5",[t._v("Application Error "),o("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("p",[t._v("You previous application needs to be approved before you can proceed")]),t._v(" "),o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:t.closeForm}},[t._v("Close")])],1)])],1)}),[],!1,null,"13e798fd",null);e.default=r.exports},"Dsz/":function(t,e,o){"use strict";var a=o("YyCe");o.n(a).a},EZky:function(t,e,o){var a=o("qwKI");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},IKzD:function(t,e,o){"use strict";o.r(e);var a={props:["form","options"],data:function(){return{lgas:[],num:0,show:!1}},components:{Upload:o("HsP9").a},mounted:function(){this.getLga()},methods:{getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},handleShow:function(){this.show=!this.show},next:function(){this.num++},prev:function(){0!==this.num&&this.num--}}},s=o("KHd+"),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.form?o("b-container",[o("b-form",[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.options.title))]),t._v(" "),t.num<t.form.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.form[t.num].title))]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.form[t.num].description)}})])],1),t._v(" "),t._l(t.form[t.num].question,(function(e,a){return o("b-form-row",{key:a},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-checkbox",{key:s,attrs:{value:a.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-radio",{key:s,attrs:{value:a.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-form-datepicker",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-form-timepicker",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",t._l(e.answers,(function(e,a){return o("div",{key:a},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),0):t._e()],1),t._v(" "),o("b-col",[e.tools.length?o("div",[e.tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:e.fields,items:e.items}})],1)],1):t._e(),t._v(" "),e.tools.includes("docs")||e.tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-row",t._l(e.documents,(function(e,a){return o("b-col",{key:a,staticClass:"border p-2",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload")],1)])})),1)],1)],1):t._e()],1):t._e()])],1)}))],2):t._e(),t._v(" "),o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.form.length+1?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e()],1)],1)],1):t._e()],1)}),[],!1,null,"66a9182e",null).exports,i=o("ynI1"),r={props:["options"],data:function(){return{obj:{},field:"",busy:!0,opened:[],openedQuestion:[],form:[{title:"",description:"",question:[{title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}],tools:[],tools_description:"",fields:[],items:[],documents:[{name:"",file:""}]}]}]}},mounted:function(){},methods:{processUpload:function(t){var e=this,o=this;this.start=!0;var a=new FormData,s=new XMLHttpRequest,n=this.cloudinary.cloudName,i=this.cloudinary.uploadPreset;a.append("file",t),a.append("resource_type","auto"),a.append("upload_preset",i),s.open("POST","https://api.cloudinary.com/v1_1/"+n+"/upload"),s.upload.onprogress=function(t){t.lengthComputable&&(o.progress=Math.round(t.loaded/t.total*100)+"%")},s.upload.onloadstart=function(t){this.progress="Starting..."},s.upload.onloadend=function(t){this.progress="Completing.."},s.onload=function(t){if(200===s.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var o=JSON.parse(s.response);e.uploadedFileUrl=o.secure_url,e.post.coverImage=o.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},s.send(a)},upload_handler:function(t,e,o){var a,s;(a=new XMLHttpRequest).withCredentials=!1,a.open("POST","/api/image-upload"),a.onload=function(){var t;200==a.status?(t=JSON.parse(a.responseText))&&"string"==typeof t.location?e(t.location):o("Invalid JSON: "+a.responseText):o("HTTP Error: "+a.status)},(s=new FormData).append("file",t.blob()),a.send(s)},loadFile:function(t,e,o){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.onchange=function(){var e=this.files[0],o=new FileReader;o.readAsDataURL(e),o.onload=function(){var a="blobid"+(new Date).getTime(),s=tinymce.activeEditor.editorUpload.blobCache,n=o.result.split(",")[1],i=s.create(a,e,n);s.add(i),t(i.blobUri(),{title:e.name})}},a.click()},submit:function(){var t={title:this.$props.options.title,group:this.$props.options.app_group,phase:this.$props.options.phase,options:this.$props.options,template:this.form};axios.post("/api/form-template",t).then((function(t){201==t.status&&window.location.reload()}))},addSection:function(){this.form.push({title:"",description:"",question:[{title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}],tools:[],tools_description:"",fields:["sn",{key:""}],items:[{key:""}],documents:[{name:"",file:""}]}]})},removeSection:function(t){this.form.splice(t,1);var e=this.opened.indexOf(t);this.opened.splice(e,1)},hideSection:function(t){if(this.opened.includes(t)){var e=this.opened.indexOf(t);this.opened.splice(e,1)}else this.opened.push(t)},toggleQuestion:function(t){this.openedQuestion.includes(t)?this.openedQuestion.splice(this.openedQuestion.indexOf(t),1):this.openedQuestion.push(t)},addQuestion:function(t){this.form[t].question.push({title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}],tools:[],tools_description:"",fields:["sn",{key:""}],items:[{key:""}],documents:[{name:"",file:""}]})},removeQuestion:function(t){this.form[t].question.pop()},addOption:function(t,e){this.form[t].question[e].options.push({name:""})},removeOption:function(t){this.form[t].question[id].options.pop()},addField:function(t,e,o){""!==this.field?(this.form[e].question[o].fields.push(t),this.field=""):this.$toasted.error("Field empty")},handleTable:function(t,e){var o=this;this.obj={},this.form[t].question[e].items=[],this.form[t].question[e].fields.forEach((function(t){o.obj[t]=""})),this.form[t].question[e].items.push(this.obj),this.$toasted.info("Table fields created")},removeField:function(t,e,o){this.form[t].question[e].fields.splice(o,1)}},components:{Review:n,"app-editor":i.a}},l=(o("ByQM"),Object(s.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body"},[o("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("b-container",[o("b-row",{staticClass:"py-3 justify-content-end"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"mr-3",attrs:{variant:"outline-darkgreen",pill:""}},[t._v("Review")]),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"darkgreen",pill:""}},[t._v("Publish")])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:t.addSection}},[t._v("Add section")])],1),t._v(" "),t._l(t.form,(function(e,a){return o("section",{key:a,staticClass:"border p-2 mb-2"},[o("div",{staticClass:"py-2 d-flex justify-content-between"},[o("h5",[t._v(t._s(""==e.title?"Section":e.title))]),t._v(" "),o("div",[o("span",{staticClass:"mr-2 cpointer",on:{click:function(e){return t.hideSection(a)}}},[t._v(t._s(t.opened.includes(a)?"Hide":"Show"))]),t._v(" "),o("span",{on:{click:function(e){return t.removeSection(a)}}},[o("i",{staticClass:"fa fa-times-circle cpointer",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),t.opened.includes(a)?o("div",{staticClass:"m-4"},[o("b-row",{staticClass:"mb-5 border-bottom py-3"},[o("b-col",{attrs:{cols:"9"}},[o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Title")]),t._v(" "),o("b-form-input",{attrs:{label:"section",placeholder:"Enter title"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"section.title"}})],1),t._v(" "),o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"a0iyq87xxk4jqc1rf2kj55kr8pu9pol61qt32jccfldibgd7",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:200,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,a){t.upload_handler(e,o,a)},file_picker_callback:function(e,o,a){t.loadFile(e,o,a)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:e.description,callback:function(o){t.$set(e,"description",o)},expression:"section.description"}})],1)],1)],1),t._v(" "),o("b-row",[o("b-col",{staticClass:"p-0",attrs:{cols:"12"}},[o("h5",[t._v("Questions")])])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addQuestion(a)}}},[o("i",{staticClass:"fas fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeQuestion(a)}}},[o("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t._l(e.question,(function(e,s){return o("b-row",{key:s,staticClass:"border p-2"},[o("b-col",{staticClass:"d-flex justify-content-between",attrs:{cols:"12"}},[t.openedQuestion.includes(s)?t._e():o("div",[t._v(t._s(s+1)+" "+t._s(e.title))]),t._v(" "),o("div",{staticClass:"ml-auto",on:{click:function(e){return t.toggleQuestion(s)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),t.openedQuestion.includes(s)?o("div",{staticClass:"d-flex w-100"},[o("b-col",{attrs:{cols:"3"}},[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Type Question")]),t._v(" "),o("b-textarea",{attrs:{placeholder:"Question"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"question.title"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Question guide (Optional)")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question guide"},model:{value:e.guide,callback:function(o){t.$set(e,"guide",o)},expression:"question.guide"}})],1)],1)],1)],1),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Answer Format")]),t._v(" "),o("b-form-select",{model:{value:e.answer_format,callback:function(o){t.$set(e,"answer_format",o)},expression:"question.answer_format"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Format")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi choice"}},[t._v("Multi Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"single choice"}},[t._v("Single Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"text box"}},[t._v("Text box")]),t._v(" "),o("b-form-select-option",{attrs:{value:"long text"}},[t._v("Long Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"number"}},[t._v("Number")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi text"}},[t._v("Multi Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"date"}},[t._v("Date")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Time")]),t._v(" "),o("b-form-select-option",{attrs:{value:"email"}},[t._v("Email")]),t._v(" "),o("b-form-select-option",{attrs:{value:"lga"}},[t._v("Lga")])],1)],1),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Placeholder value")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Placeholder value"},model:{value:e.placeholder,callback:function(o){t.$set(e,"placeholder",o)},expression:"question.placeholder"}})],1):t._e(),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("div",[o("b-form-input",{attrs:{type:"number",placeholder:"Character limit"},model:{value:e.limit,callback:function(o){t.$set(e,"limit",o)},expression:"question.limit"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format||"single choice"==e.answer_format?o("div",[t._l(e.options,(function(e,a){return o("div",{key:a},[o("b-form-input",{attrs:{placeholder:"Options"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"option.name"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addOption(a,s)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeOption(a,s)}}},[t._v("Remove")])],1)],2):t._e()],1),t._v(" "),o("b-col",{attrs:{cols:"6"}},[o("label",[t._v("Select Tool")]),t._v(" "),o("div",{attrs:{role:"tablist"}},[o("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[o("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:s.toString(),expression:"idx.toString()"}],attrs:{block:"",variant:"info"}},[t._v("Tools")])],1),t._v(" "),o("b-collapse",{attrs:{id:s.toString(),accordion:"my-accordion",role:"tabpanel"}},[o("b-card-body",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("b-form-checkbox",{attrs:{value:"table"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"question.tools"}},[t._v("Table")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"docs"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"question.tools"}},[t._v("Document")]),t._v(" "),o("b-form-checkbox",{attrs:{value:" media"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"question.tools"}},[t._v("Media")])],1),t._v(" "),e.tools.includes("table")?o("div",[o("b-input-group",[o("b-form-input",{attrs:{placeholder:"Table field"},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}}),t._v(" "),o("b-input-group-append",[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addField(t.field,a,s)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})])],1)],1),t._v(" "),o("b-form-group",{staticClass:"p-2 py-3"},[o("b-row",t._l(e.fields,(function(e,n){return o("b-col",{key:n,staticClass:"border p-2 text-center",attrs:{cols:"3"}},[t._v("\n                                    "+t._s(e)+"\n                                    "),o("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.removeField(a,s,n)}}})])})),1)],1),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{on:{click:function(e){return t.handleTable(a,s)}}},[t._v("Submit fields")])],1)],1):t._e()],1),t._v(" "),o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Tool Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"a0iyq87xxk4jqc1rf2kj55kr8pu9pol61qt32jccfldibgd7",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:200,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,a){t.upload_handler(e,o,a)},file_picker_callback:function(e,o,a){t.loadFile(e,o,a)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:e.tools_description,callback:function(o){t.$set(e,"tools_description",o)},expression:"question.tools_description"}})],1)],1)],1)],1)],1)],1)],1)])],1):t._e()],1)}))],2):t._e()])}))],2)],1),t._v(" "),o("div",[o("b-modal",{attrs:{id:"modal-1",title:"Review",size:"lg","hide-footer":""}},[o("Review",{attrs:{options:t.options,form:t.form}})],1)],1)],1)}),[],!1,null,"c61576cc",null).exports),c={data:function(){return{fields:["sn","title","group","phase","action"],items:[]}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;axios.get("/api/form-template").then((function(e){200==e.status&&(t.items=e.data)}))},drop:function(t){var e=this;axios.delete("/api/form-template/".concat(t)).then((function(t){200==t.status&&(e.getItems(),e.$toasted.info("Deleted"))}))},view:function(t){var e=t.id;t.title;this.$router.push("/admin/form/template/".concat(e))}}},u=(o("d/HS"),{data:function(){return{options:{title:"",description:"",app_group:"",step:{title:"",description:"",purpose:"",feedback:""},phase:"",feedback:{type:"",title:"",text:"",purpose:""},signature:!1,payment:!1,price:null},type:"list",appGroups:[]}},components:{Creation:l,List:Object(s.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("b-table",{attrs:{items:t.items,fields:t.fields,bordered:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",{staticClass:"d-flex"},[o("div",{staticClass:"mr-4",on:{click:function(o){return t.view(e.item)}}},[t._v("view")]),t._v(" "),o("div",{on:{click:function(o){return t.drop(e.item.id)}}},[t._v("drop")])])]}}])})],1)],1)}),[],!1,null,"8e8eaf18",null).exports,"app-editor":i.a},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t,"create"==t&&this.$toasted.success("Settings saved")},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))}}}),p=(o("ZFTY"),Object(s.a)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["option"==t.type?o("b-container",[o("h4",{staticClass:"text-center mb-5"},[t._v("Form Settings")]),t._v(" "),o("b-form",[o("b-form-group",[o("h5",[t._v("General Information")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Form Title")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"title"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Application Group")]),t._v(" "),o("b-form-select",{model:{value:t.options.app_group,callback:function(e){t.$set(t.options,"app_group",e)},expression:"options.app_group"}},[o("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v("Select Group")]),t._v(" "),t._l(t.appGroups,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.title}},[t._v(t._s(e.title))])}))],2)],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Form Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"a0iyq87xxk4jqc1rf2kj55kr8pu9pol61qt32jccfldibgd7",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:200,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,a){t.upload_handler(e,o,a)},file_picker_callback:function(e,o,a){t.loadFile(e,o,a)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:t.options.description,callback:function(e){t.$set(t.options,"description",e)},expression:"options.description"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Form Phase")]),t._v(" "),o("b-form-row",[o("b-form-input",{staticClass:"w-25",attrs:{type:"number",placeholder:"Phase number"},model:{value:t.options.phase,callback:function(e){t.$set(t.options,"phase",e)},expression:"options.phase"}})],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Feedback")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("b-form-radio",{attrs:{value:"manual"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Manual")]),t._v(" "),o("b-form-radio",{attrs:{value:"automatic"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Automatic")])],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{model:{value:t.options.feedback.title,callback:function(e){t.$set(t.options.feedback,"title",e)},expression:"options.feedback.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Text")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.text,callback:function(e){t.$set(t.options.feedback,"text",e)},expression:"options.feedback.text"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.purpose,callback:function(e){t.$set(t.options.feedback,"purpose",e)},expression:"options.feedback.purpose"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Signature")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("No")])],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Payment")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("No")])],1)],1),t._v(" "),t.options.payment?o("b-form-row",[o("b-form-input",{attrs:{placeholder:"Price"},model:{value:t.options.price,callback:function(e){t.$set(t.options,"price",e)},expression:"options.price"}})],1):t._e()],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("create")}}},[t._v("Save Settings")])],1)],1):t._e(),t._v(" "),o("b-container",{staticClass:"p-0"},["list"==t.type?o("b-row",{staticClass:"p-3  justify-content-between"},[o("router-link",{attrs:{to:"/admin/forms"}},[o("b-button",{attrs:{variant:"outline-darkgreen"}},[t._v("Back ")])],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("option")}}},[t._v("Create Form")])],1):t._e()],1),t._v(" "),"create"==t.type?o("Creation",{attrs:{options:t.options}}):t._e(),t._v(" "),"list"==t.type?o("List",{attrs:{options:t.options}}):t._e()],1)}),[],!1,null,"5bf80266",null));e.default=p.exports},JOUd:function(t,e,o){var a=o("NCi4");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},Jtl5:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-81d7599c] {\n  padding: 50px 15px;\n}\n",""])},Lp6u:function(t,e,o){var a=o("Vr68");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},NCi4:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-8e8eaf18] {\n  padding: 50px 15px;\n}\n",""])},"NGi+":function(t,e,o){var a=o("4++f");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},NY0W:function(t,e,o){var a=o("WBiE");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},PkJD:function(t,e,o){"use strict";var a=o("hDAL");o.n(a).a},QekR:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".container[data-v-5bf80266] {\n  padding: 50px 0;\n}\n.form-group[data-v-5bf80266] {\n  margin-bottom: 24px;\n}",""])},T8Iw:function(t,e,o){"use strict";o.r(e);var a={props:["form","options"],data:function(){return{num:0,show:!1}},components:{Upload:o("HsP9").a},mounted:function(){this.getLga()},methods:{getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},handleShow:function(){this.show=!this.show},next:function(){this.num++},prev:function(){0!==this.num&&this.num--}}},s=o("KHd+"),n={props:["options"],data:function(){return{busy:!0,opened:[],openedQuestion:[],form:[{title:"",description:"",tools:[],fields:["sn",{key:""}],items:[{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}]}]}]}},mounted:function(){},methods:{processUpload:function(t){var e=this,o=this;this.start=!0;var a=new FormData,s=new XMLHttpRequest,n=this.cloudinary.cloudName,i=this.cloudinary.uploadPreset;a.append("file",t),a.append("resource_type","auto"),a.append("upload_preset",i),s.open("POST","https://api.cloudinary.com/v1_1/"+n+"/upload"),s.upload.onprogress=function(t){t.lengthComputable&&(o.progress=Math.round(t.loaded/t.total*100)+"%")},s.upload.onloadstart=function(t){this.progress="Starting..."},s.upload.onloadend=function(t){this.progress="Completing.."},s.onload=function(t){if(200===s.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var o=JSON.parse(s.response);e.uploadedFileUrl=o.secure_url,e.post.coverImage=o.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},s.send(a)},upload_handler:function(t,e,o){var a,s;(a=new XMLHttpRequest).withCredentials=!1,a.open("POST","/api/image-upload"),a.onload=function(){var t;200==a.status?(t=JSON.parse(a.responseText))&&"string"==typeof t.location?e(t.location):o("Invalid JSON: "+a.responseText):o("HTTP Error: "+a.status)},(s=new FormData).append("file",t.blob()),a.send(s)},loadFile:function(t,e,o){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.onchange=function(){var e=this.files[0],o=new FileReader;o.readAsDataURL(e),o.onload=function(){var a="blobid"+(new Date).getTime(),s=tinymce.activeEditor.editorUpload.blobCache,n=o.result.split(",")[1],i=s.create(a,e,n);s.add(i),t(i.blobUri(),{title:e.name})}},a.click()},submit:function(){var t={title:this.$props.options.title,group:this.$props.options.app_group,phase:this.$props.options.phase,options:this.$props.options,template:this.form};axios.post("/api/form-template",t).then((function(t){201==t.status&&window.location.reload()}))},addSection:function(){this.form.push({title:"",description:"",tools:[],fields:[{key:""}],items:["sn",{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}]}]})},removeSection:function(t){this.form.splice(t,1);var e=this.opened.indexOf(t);this.opened.splice(e,1)},hideSection:function(t){if(this.opened.includes(t)){var e=this.opened.indexOf(t);this.opened.splice(e,1)}else this.opened.push(t)},toggleQuestion:function(t){this.openedQuestion.includes(t)?this.openedQuestion.splice(this.openedQuestion.indexOf(t),1):this.openedQuestion.push(t)},addQuestion:function(t){this.openedQuestion.push(t),this.form[t].question.push({title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}],tools:[],fields:[{key:""}]})},removeQuestion:function(t){this.form[t].question.pop()},addOption:function(t,e){this.form[t].question[e].options.push({name:""})},removeOption:function(t){this.form[t].question[id].options.pop()},addField:function(t){this.form[t].fields.push({key:""}),this.form[t].items.push({key:""})},removeField:function(t){this.form[t].fields.pop()}},components:{Review:Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.form?o("b-container",[o("b-form",[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.options.title))]),t._v(" "),t.num<t.form.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.form[t.num].title))]),t._v(" "),o("p",[t._v(t._s(t.form[t.num].description))])])],1),t._v(" "),t._l(t.form[t.num].question,(function(e,a){return o("b-form-row",{key:a},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-checkbox",{key:s,attrs:{value:a.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-radio",{key:s,attrs:{value:a.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",t._l(e.answers,(function(e,a){return o("div",{key:a},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),0):t._e()],1)],1)})),t._v(" "),t.form[t.num].tools.length?o("div",[t.form[t.num].tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:t.form[t.num].fields,items:t.form[t.num].items}})],1)],1):t._e(),t._v(" "),t.form[t.num].tools.includes("docs")||t.form[t.num].tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-row",t._l(t.form[t.num].documents,(function(e,a){return o("b-col",{key:a,staticClass:"border p-2",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:t.num,id:e.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),""!==e.name||null!==e.name?o("div",{staticClass:"form-control"},[t._v("File Name: "+t._s(e.name))]):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()],2):t._e(),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.form.length+1?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.num>t.form.length?o("b-button",{attrs:{type:"submit"}},[t._v("Continue to payment")]):t._e()],1):t._e()],1)],1):t._e()],1)}),[],!1,null,"02412bbe",null).exports,"app-editor":o("ynI1").a}},i=(o("5i1B"),Object(s.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body"},[o("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("b-container",[o("b-row",{staticClass:"py-3 justify-content-end"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"mr-3",attrs:{variant:"outline-darkgreen",pill:""}},[t._v("Review")]),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"darkgreen",pill:""}},[t._v("Publish")])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:t.addSection}},[t._v("Add section")])],1),t._v(" "),t._l(t.form,(function(e,a){return o("section",{key:a,staticClass:"border p-2 mb-2"},[o("div",{staticClass:"py-2 d-flex justify-content-between"},[o("h5",[t._v(t._s(""==e.title?"Section":e.title))]),t._v(" "),o("div",[o("span",{staticClass:"mr-2 cpointer",on:{click:function(e){return t.hideSection(a)}}},[t._v(t._s(t.opened.includes(a)?"Hide":"Show"))]),t._v(" "),o("span",{on:{click:function(e){return t.removeSection(a)}}},[o("i",{staticClass:"fa fa-times-circle cpointer",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),t.opened.includes(a)?o("div",{staticClass:"m-4"},[o("b-row",{staticClass:"mb-5 border py-3"},[o("b-col",{attrs:{cols:"8"}},[o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Title")]),t._v(" "),o("b-form-input",{attrs:{label:"section",placeholder:"Enter title"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"section.title"}})],1),t._v(" "),o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"a0iyq87xxk4jqc1rf2kj55kr8pu9pol61qt32jccfldibgd7",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:300,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,a){t.upload_handler(e,o,a)},file_picker_callback:function(e,o,a){t.loadFile(e,o,a)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:e.description,callback:function(o){t.$set(e,"description",o)},expression:"section.description"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Add Tools")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"table"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Table")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"docs"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Docs")]),t._v(" "),o("b-form-checkbox",{attrs:{value:" media"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Media")])],1),t._v(" "),e.tools.includes("table")?o("div",[t._l(e.fields,(function(e,a){return o("div",{key:a},[o("b-form-input",{attrs:{placeholder:"Table fields"},model:{value:e.key,callback:function(o){t.$set(e,"key",o)},expression:"field.key"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addField(a)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeField(a)}}},[t._v("Remove")])],1)],2):t._e()],1)],1),t._v(" "),o("b-row",[o("b-col",{staticClass:"p-0",attrs:{cols:"12"}},[o("h5",[t._v("Questions")])])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addQuestion(a)}}},[o("i",{staticClass:"fas fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeQuestion(a)}}},[o("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t._l(e.question,(function(e,s){return o("b-row",{key:s,staticClass:"border p-2"},[o("b-col",{staticClass:"d-flex justify-content-between",attrs:{cols:"12"}},[t.openedQuestion.includes(s)?t._e():o("div",[t._v(t._s(e.title))]),o("div",{staticClass:"ml-auto",on:{click:function(e){return t.toggleQuestion(s)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),t.openedQuestion.includes(s)?o("div",{staticClass:"d-flex w-100"},[o("b-col",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Type Question")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"question.title"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Question guide (Optional)")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question guide"},model:{value:e.guide,callback:function(o){t.$set(e,"guide",o)},expression:"question.guide"}})],1)],1)],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Answer Format")]),t._v(" "),o("b-form-select",{model:{value:e.answer_format,callback:function(o){t.$set(e,"answer_format",o)},expression:"question.answer_format"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Format")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi choice"}},[t._v("Multi Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"single choice"}},[t._v("Single Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"text box"}},[t._v("Text box")]),t._v(" "),o("b-form-select-option",{attrs:{value:"long text"}},[t._v("Long Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"number"}},[t._v("Number")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi text"}},[t._v("Multi Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"date"}},[t._v("Date")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Time")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Email")]),t._v(" "),o("b-form-select-option",{attrs:{value:"lga"}},[t._v("LGAs")])],1)],1),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Placeholder value")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Placeholder value"},model:{value:e.placeholder,callback:function(o){t.$set(e,"placeholder",o)},expression:"question.placeholder"}})],1):t._e(),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("div",[o("b-form-input",{attrs:{type:"number",placeholder:"Character limit"},model:{value:e.limit,callback:function(o){t.$set(e,"limit",o)},expression:"question.limit"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format||"single choice"==e.answer_format?o("div",[t._l(e.options,(function(e,a){return o("div",{key:a},[o("b-form-input",{attrs:{placeholder:"Options"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"option.name"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addOption(a,s)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeOption(a,s)}}},[t._v("Remove")])],1)],2):t._e()],1)],1):t._e()],1)}))],2):t._e()])}))],2)],1),t._v(" "),o("div",[o("b-modal",{attrs:{id:"modal-1",title:"Review",size:"lg","hide-footer":""}},[o("Review",{attrs:{options:t.options,form:t.form}})],1)],1)],1)}),[],!1,null,"49a80ff0",null).exports),r={data:function(){return{fields:["sn","title","group","phase","action"],items:[]}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;axios.get("/api/form-template").then((function(e){200==e.status&&(t.items=e.data)}))},view:function(t){var e=t.id,o=t.title;this.$router.push("/form/".concat(e,"/").concat(o.replace(/ /g,"-")))}}},l=(o("Dsz/"),{data:function(){return{options:{title:"",description:"",app_group:"",step:{title:"",description:"",purpose:"",feedback:""},phase:"",feedback:{type:"",title:"",text:"",purpose:""},signature:!1,payment:!1,price:null},type:"list",appGroups:[]}},components:{Creation:i,List:Object(s.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("b-table",{attrs:{items:t.items,fields:t.fields,bordered:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v("\n                    "+t._s(e.index+1)+"\n                ")])]}},{key:"cell(action)",fn:function(e){return[o("div",{on:{click:function(o){return t.view(e.item)}}},[t._v("\n                   view\n                ")])]}}])})],1)],1)}),[],!1,null,"08565800",null).exports},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))}}}),c=(o("dGUM"),Object(s.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["option"==t.type?o("b-container",[o("h4",{staticClass:"text-center mb-5"},[t._v("Form Settings")]),t._v(" "),o("b-form",[o("b-form-group",[o("h5",[t._v("General Information")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Form Title")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"title"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Application Group")]),t._v(" "),o("b-form-select",{model:{value:t.options.app_group,callback:function(e){t.$set(t.options,"app_group",e)},expression:"options.app_group"}},[o("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v("Select Group")]),t._v(" "),t._l(t.appGroups,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.title}},[t._v(t._s(e.title))])}))],2)],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Form Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.description,callback:function(e){t.$set(t.options,"description",e)},expression:"options.description"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Form Phase")]),t._v(" "),o("b-form-row",[o("b-form-input",{staticClass:"w-25",attrs:{type:"number",placeholder:"Phase number"},model:{value:t.options.phase,callback:function(e){t.$set(t.options,"phase",e)},expression:"options.phase"}})],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Feedback")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("b-form-radio",{attrs:{value:"manual"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Manual")]),t._v(" "),o("b-form-radio",{attrs:{value:"automatic"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Automatic")])],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{model:{value:t.options.feedback.title,callback:function(e){t.$set(t.options.feedback,"title",e)},expression:"options.feedback.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Text")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.text,callback:function(e){t.$set(t.options.feedback,"text",e)},expression:"options.feedback.text"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.purpose,callback:function(e){t.$set(t.options.feedback,"purpose",e)},expression:"options.feedback.purpose"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Signature")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("No")])],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Payment")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("No")])],1)],1),t._v(" "),t.options.payment?o("b-form-row",[o("b-form-input",{attrs:{placeholder:"Price"},model:{value:t.options.price,callback:function(e){t.$set(t.options,"price",e)},expression:"options.price"}})],1):t._e()],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("create")}}},[t._v("Save Settings")])],1)],1):t._e(),t._v(" "),o("b-container",{staticClass:"p-0"},["list"==t.type?o("b-row",{staticClass:"p-3"},[o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("option")}}},[t._v("Create Form")])],1):t._e()],1),t._v(" "),"create"==t.type?o("Creation",{attrs:{options:t.options}}):t._e(),t._v(" "),"list"==t.type?o("List",{attrs:{options:t.options}}):t._e()],1)}),[],!1,null,"61a88e93",null));e.default=c.exports},Vr68:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-2f5d9c7a] {\n  padding: 50px 15px;\n  height: 100vh;\n}\n.box[data-v-2f5d9c7a]{\n  height: 200px;\n  width: 32%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.bg-lightwhite[data-v-2f5d9c7a]{\n  background:#fff;\n  padding:15px;\n  border-radius: 15px;\n}\n\n",""])},Vx6J:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-49a80ff0] {\n  padding: 50px 0;\n}\n.main-box[data-v-49a80ff0] {\n  padding: 20px;\n  background: #f7f8fa;\n  position: relative;\n}\nsection[data-v-49a80ff0]{\n  background: #f7f8fa;\n}\n.top-box[data-v-49a80ff0] {\n  margin: 0 auto;\n  background: white;\n  height: auto;\n}\n.bottom-box[data-v-49a80ff0] {\n  margin: 0 auto;\n  background: white;\n}\n.hide[data-v-49a80ff0] {\n  height: 120px;\n  overflow: hidden;\n}\n.btn-sm[data-v-49a80ff0] {\n  padding: 0.1rem 0.4rem;\n  font-size: 0.4rem;\n  line-height: 1.5;\n}\n",""])},WBiE:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-4f80714e] {\n  min-height: 70vh;\n  padding: 50px 0;\n}\n.upload[data-v-4f80714e] {\n  background: #f7f8fa;\n}\nlabel[data-v-4f80714e] {\n  font-weight: bold;\n}\n.border[data-v-4f80714e] {\n  border-radius: 15px;\n}\nli[data-v-4f80714e] {\n  margin-left: 30px;\n}\n.form-text[data-v-4f80714e]{\n  margin-bottom: 0.25rem;\n  margin-top: 0;\n  color:blue;\n}\n",""])},Xr3l:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-13e798fd] {\n  min-height: 70vh;\n  padding: 50px 0;\n}\n.upload[data-v-13e798fd] {\n  background: #f7f8fa;\n}\nlabel[data-v-13e798fd] {\n  font-weight: bold;\n}\n.border[data-v-13e798fd] {\n  border-radius: 15px;\n}\nli[data-v-13e798fd] {\n  margin-left: 30px;\n}\n",""])},YyCe:function(t,e,o){var a=o("5xyH");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},ZFTY:function(t,e,o){"use strict";var a=o("fPYE");o.n(a).a},cgfh:function(t,e,o){"use strict";o.r(e);var a={data:function(){return{type:"",appFields:["sn","title","description","purpose","phases","action"],appGroups:[],group:{title:"",description:"",purpose:"",phase:""}}},mounted:function(){this.getGroups()},methods:{drop:function(t){var e=this;axios.delete("/api/app-group/".concat(t.id)).then((function(t){200==t.status&&(e.getGroups(),e.$toasted.info("Deleted"))}))},handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))},addGroup:function(){var t=this;axios.post("/api/app-group",this.group).then((function(e){201==e.status&&(t.getGroups(),t.group={title:"",description:"",purpose:"",phase:""})}))}}},s=(o("40n9"),o("KHd+")),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[""==t.type?o("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[o("b-col",{staticClass:"box shadow icon-text mc1",on:{click:function(e){return t.handleType("group")}}},[t._v("Application Group")]),t._v(" "),o("b-col",{staticClass:"box shadow"},[o("router-link",{staticClass:"icon-text mc1",attrs:{to:"/admin/form"}},[t._v("Forms")])],1),t._v(" "),o("b-col",{staticClass:"box shadow"},[o("router-link",{staticClass:"icon-text mc1",attrs:{to:"/admin/app/list"}},[t._v("Applications")])],1)],1):t._e(),t._v(" "),"group"==t.type?o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"text-right "},[o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:function(e){return t.handleType("")}}},[t._v("Back")])],1)]),t._v(" "),o("b-col",[o("b-row",[o("h4",{staticClass:"mb-4 icon-text"},[t._v("Application Groups")])]),t._v(" "),o("b-row",{staticClass:"mb-3"},[o("b-col",{attrs:{cols:"9"}},[o("b-table",{attrs:{items:t.appGroups,fields:t.appFields,bordered:"",hover:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",{on:{click:function(o){return t.drop(e.item)}}},[t._v("Drop")])]}}],null,!1,1385761491)})],1),t._v(" "),o("b-col",{staticClass:"bg-lightwhite shadow-sm",attrs:{cols:"3"}},[o("b-form",[o("div",{staticClass:"text-center"},[o("strong",[t._v("New Group")])]),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Title"},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phases")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"4",type:"number"},model:{value:t.group.phase,callback:function(e){t.$set(t.group,"phase",e)},expression:"group.phase"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.purpose,callback:function(e){t.$set(t.group,"purpose",e)},expression:"group.purpose"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("b-button",{on:{click:t.addGroup}},[t._v("Create")])],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)}),[],!1,null,"2f5d9c7a",null);e.default=n.exports},"d/HS":function(t,e,o){"use strict";var a=o("JOUd");o.n(a).a},dGUM:function(t,e,o){"use strict";var a=o("NGi+");o.n(a).a},fPYE:function(t,e,o){var a=o("QekR");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},hDAL:function(t,e,o){var a=o("Jtl5");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},iWoT:function(t,e,o){var a=o("Xr3l");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},"jh/f":function(t,e,o){"use strict";o.r(e);var a=o("HsP9"),s=o("nZrq"),n=o("i4C1"),i=o("HBaR"),r={data:function(){return{email:"",phone:null,full_name:"",form:{},num:0,template:[],options:{},show:!1,show_feedback:!1}},components:{Upload:a.a,Navigation:s.a,Footer:n.a,Payment:i.a},mounted:function(){this.getItems(this.$route.params.id),this.getLga()},methods:{closeForm:function(){this.$router.push("/forms")},getResponse:function(t){var e=this;if("success"==t.status){var o={ref:t.trxref,payment:this.options.payment,price:this.options.price,response:this.template,payment_status:t.status,phase:this.options.phase,name:this.options.title,group:this.options.app_group,full_name:this.full_name,email:this.email,phone:this.phone};axios.post("/api/application",o).then((function(t){201==t.status&&e.$bvModal.show("modal-1")}))}},submit:function(){var t=this;if(!this.options.payment){var e={ref:"Non Payment",payment:this.options.payment,price:"Non Payment",response:this.template,payment_status:"None",phase:this.options.phase,name:this.options.title,group:this.options.app_group,full_name:this.full_name,email:this.email,phone:this.phone};axios.post("/api/application",e).then((function(e){201==e.status&&t.$bvModal.show("modal-1")}))}},getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},getUploadDetails:function(t,e,o){this.template[this.num].question[t].documents[e].file=o.secure_url},next:function(){this.num++},prev:function(){0!==this.num&&this.num--},handleShow:function(){var t=this;if(""!==this.email&&""!==this.full_name){var e={group:this.options.app_group,full_name:this.full_name,email:this.email,phone:this.phone,phase:this.options.phase};axios.post("/api/check-phase",e).then((function(e){200==e.status&&("approved"==e.data.status?t.show=!t.show:t.$bvModal.show("modal-2"))}))}else this.$toasted.info("Fill all fields")},getItems:function(t){var e=this;axios.get("/api/form-template/".concat(t)).then((function(t){200==t.status&&(e.form=t.data,e.template=JSON.parse(t.data.template),e.options=JSON.parse(t.data.options))}))},removeMore:function(t){this.template[this.num].question[t].answers.pop()},addMore:function(t){this.template[this.num].question[t].answers.push({answer:""})},addDoc:function(t){this.template[this.num].question[t].documents.push({name:"",file:""})},removeDoc:function(t){this.template[this.num].question[t].documents.pop()},handleObj:function(){},addRow:function(t){var e={};this.template[this.num].question[t].fields.forEach((function(t){e[t]="",console.log("addRow -> item",t)})),this.template[this.num].question[t].items.push(e)},removeRow:function(t){this.template[this.num].question[t].items.pop()}}},l=(o("yEMd"),o("KHd+")),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Navigation"),t._v(" "),o("b-row",[o("router-link",{attrs:{to:"/forms"}},[o("b-button",{staticClass:"m-2 mx-5",attrs:{variant:"outline-darkgreen"}},[t._v("Back")])],1)],1),t._v(" "),t.form&&t.options?o("b-container",[o("b-form",{staticClass:"border p-3",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.form.title))]),t._v(" "),t.show?t._e():o("b-row",{staticClass:"p-4"},[o("b-col",{attrs:{cols:"4"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Full name")]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:"Enter name"},model:{value:t.full_name,callback:function(e){t.full_name=e},expression:"full_name"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"5"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Email")]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:"Enter email address"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phone number")]),t._v(" "),o("b-form-input",{attrs:{type:"number",max:"11",placeholder:"Enter phone number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),t._v(" "),t.show?t._e():o("section",{staticClass:"text-center"},[o("b-form-row",[o("b-col",{staticClass:"text-center"},[o("p",{domProps:{innerHTML:t._s(t.options.description)}})])],1),t._v(" "),o("b-form-row",{staticClass:"justify-content-center"},[o("b-button",{on:{click:t.handleShow}},[t._v("Begin Application")])],1)],1),t._v(" "),t.show&&t.num<t.template.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.template[t.num].title))]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.template[t.num].description)}})])],1),t._v(" "),o("b-form-row",[o("ol",{staticClass:"w-100"},t._l(t.template[t.num].question,(function(e,a){return o("li",{key:a},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Lga")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,a){return o("b-form-select-option",{key:a,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:"example@email.com"},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-checkbox",{key:s,attrs:{value:a.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),t._l(e.options,(function(a,s){return o("b-form-radio",{key:s,attrs:{value:a.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(a.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("br"),t._v(" "),o("b-form-datepicker",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),o("br"),t._v(" "),o("b-form-timepicker",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),e.guide?o("small",{staticClass:"form-text mb-2"},[t._v(t._s(e.guide))]):t._e(),t._v(" "),t._l(e.answers,(function(e,a){return o("div",{key:a},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),t._v(" "),o("div",[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addMore(a)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),e.answers.length>1?o("b-button",{on:{click:function(e){return t.removeMore(a)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})]):t._e()],1)],2):t._e()],1),t._v(" "),o("b-col",[e.tools.length?o("div",[e.tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-button",{staticClass:"mb-2",on:{click:function(e){return t.addRow(a)}}},[t._v("Add row")]),t._v(" "),e.items.length>1?o("b-button",{staticClass:"mb-2",on:{click:function(e){return t.removeRow(a)}}},[t._v("Remove row")]):t._e(),t._v(" "),o("b-table",{attrs:{fields:Object.keys(e.items[0]),items:e.items,bordered:""},scopedSlots:t._u([t._l(e.fields,(function(e,a){return{key:"cell("+e+")",fn:function(a){return[o("b-form-input",{attrs:{placeholder:"type"},model:{value:a.item[e],callback:function(o){t.$set(a.item,e,o)},expression:"data.item[field]"}})]}}}))],null,!0)})],1)],1):t._e(),t._v(" "),e.tools.includes("docs")||e.tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("small",{domProps:{innerHTML:t._s(e.tools_description)}}),t._v(" "),o("div",{staticClass:"my-2"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addDoc(a)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),e.documents.length>1?o("b-button",{on:{click:function(e){return t.removeDoc(a)}}},[o("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),o("b-form-row",{staticClass:"w-100"},t._l(e.documents,(function(s,n){return o("b-col",{key:n,staticClass:"p-2",attrs:{cols:"3"}},[o("div",{staticClass:"border upload"},[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:a,id:n,label:s.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),e.tools.includes("media")?o("b-img",{attrs:{rounded:"",fluid:"",width:"150px",src:s.file}}):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()])],1)})),0)])],1):t._e(),t._v(" "),t.options.signature?o("div",[t.show&&t.num>=t.template.length?o("section",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v("SIGNATURE")]),t._v(" "),o("p",[o("strong",[t._v("I certify that the information submitted in this application is true and correct to the best of my knowledge.")])]),t._v(" "),o("p",[t._v("I further understand that any false statements may result in denial or revocation of the approval.")]),t._v(" "),o("p",[t._v("Full Name :")]),t._v(" "),o("p",[t._v("Date :")])])],1),t._v(" "),o("hr"),t._v(" "),t.options.payment?o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("p",[o("strong",[t._v("Price: ₦"+t._s(t.options.price)+".00")])])])],1):t._e()],1):t._e()]):t._e(),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between px-3 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.template.length?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.options.payment&&t.num>=t.template.length?o("div",[o("Payment",{attrs:{amount:Number(t.options.price),email:t.email},on:{getResponse:t.getResponse}})],1):t._e(),t._v(" "),!t.options.payment&&t.num>=t.template.length?o("div",[o("b-button",{attrs:{type:"submit"}},[t._v("Submit")])],1):t._e()],1):t._e()],1)],1):t._e(),t._v(" "),t.options.feedback?o("b-modal",{attrs:{id:"modal-1",size:"lg","hide-footer":""}},[t.options.feedback?o("div",{staticClass:"text-center"},[o("h5",[t._v(t._s(t.options.feedback.title))]),t._v(" "),o("p",[t._v(t._s(t.options.feedback.text))]),t._v(" "),o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:t.closeForm}},[t._v("Close")])],1):t._e()]):t._e(),t._v(" "),o("b-modal",{attrs:{id:"modal-2",size:"lg","hide-footer":""}},[o("div",{staticClass:"text-center"},[o("h5",[t._v("Application Error "),o("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("p",[t._v("You previous application needs to be approved before you can proceed")]),t._v(" "),o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:t.closeForm}},[t._v("Close")])],1)]),t._v(" "),o("Footer")],1)}),[],!1,null,"4f80714e",null);e.default=c.exports},qwKI:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-c61576cc] {\n  padding: 50px 0;\n}\n.main-box[data-v-c61576cc] {\n  padding: 20px;\n  background: #f7f8fa;\n  position: relative;\n}\nsection[data-v-c61576cc] {\n  background: #f7f8fa;\n}\n.top-box[data-v-c61576cc] {\n  margin: 0 auto;\n  background: white;\n  height: auto;\n}\n.bottom-box[data-v-c61576cc] {\n  margin: 0 auto;\n  background: white;\n}\n.hide[data-v-c61576cc] {\n  height: 120px;\n  overflow: hidden;\n}\n.btn-sm[data-v-c61576cc] {\n  padding: 0.1rem 0.4rem;\n  font-size: 0.4rem;\n  line-height: 1.5;\n}\n",""])},syty:function(t,e,o){"use strict";var a=o("4oUW");o.n(a).a},yEMd:function(t,e,o){"use strict";var a=o("NY0W");o.n(a).a}}]);