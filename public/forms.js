(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1djF":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-f585a72c] {\n  padding: 50px 15px;\n  height: 100vh;\n}\n.box[data-v-f585a72c]{\n  height: 200px;\n  width: 32%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.bg-lightwhite[data-v-f585a72c]{\n  background:#f7f8fa;\n}\n",""])},"2v8t":function(t,e,o){"use strict";o.r(e);var n={data:function(){return{type:"",appFields:["sn","title","description","purpose","phases","action"],appGroups:[],group:{title:"",description:"",purpose:"",phase:""}}},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))},addGroup:function(){var t=this;axios.post("/api/app-group",this.group).then((function(e){201==e.status&&(t.getGroups(),t.group={title:"",description:"",purpose:"",phase:""})}))}}},a=(o("syty"),o("KHd+")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[""==t.type?o("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("group")}}},[t._v("Application Group")]),t._v(" "),o("b-col",{staticClass:"box shadow"},[o("router-link",{attrs:{to:"/form-create"}},[t._v("Forms")])],1),t._v(" "),o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("applications")}}},[t._v("Applications")])],1):t._e(),t._v(" "),"group"==t.type?o("b-row",[o("b-col",[o("b-row",[o("h4",{staticClass:"mb-4"},[t._v("Application Groups")])]),t._v(" "),o("b-row",{staticClass:"mb-3"},[o("b-col",{attrs:{cols:"9"}},[o("b-table",{attrs:{items:t.appGroups,fields:t.appFields},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",[t._v("Edit")])]}}],null,!1,493339137)})],1),t._v(" "),o("b-col",{staticClass:"bg-lightwhite p-2",attrs:{cols:"3"}},[o("b-form",[o("div",{staticClass:"text-center"},[o("strong",[t._v("New Group")])]),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Title"},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phases")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"4",type:"number"},model:{value:t.group.phase,callback:function(e){t.$set(t.group,"phase",e)},expression:"group.phase"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.purpose,callback:function(e){t.$set(t.group,"purpose",e)},expression:"group.purpose"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("b-button",{on:{click:t.addGroup}},[t._v("Create")])],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)}),[],!1,null,"f585a72c",null);e.default=s.exports},"4++f":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".container[data-v-61a88e93] {\n  padding: 50px 0;\n}\n.form-group[data-v-61a88e93] {\n  margin-bottom: 24px;\n}",""])},"4oUW":function(t,e,o){var n=o("1djF");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},"5xyH":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-08565800]{\n    padding:50px 15px;\n}\n",""])},DLw3:function(t,e,o){"use strict";o.r(e);var n={data:function(){return{form:{},num:0,template:[],options:{},show:!1}},components:{Upload:o("HsP9").a},mounted:function(){this.getItems(this.$route.params.id),this.getLga()},methods:{getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},getUploadDetails:function(t,e){this.data.documents[t].file=e.secure_url},next:function(){this.num++},prev:function(){0!==this.num&&this.num--},handleShow:function(){this.show=!this.show},getItems:function(t){var e=this;axios.get("/api/form-template/".concat(t)).then((function(t){200==t.status&&(e.form=t.data,e.template=JSON.parse(t.data.template),e.options=JSON.parse(t.data.options))}))},addMore:function(t){this.template[this.num].question[t].answers.push({answer:""})},addDoc:function(){this.template[this.num].documents.push({name:"",file:""})},removeDoc:function(){this.template[this.num].documents.pop()}}},a=o("KHd+"),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.template?o("b-container",[o("b-form",[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.form.title))]),t._v(" "),t.show?t._e():o("section",{staticClass:"text-center"},[o("b-form-row",[o("b-col",{staticClass:"text-center"},[o("p",{domProps:{innerHTML:t._s(t.options.description)}})])],1),t._v(" "),o("b-form-row",{staticClass:"justify-content-center"},[o("b-button",{on:{click:t.handleShow}},[t._v("Begin")])],1)],1),t._v(" "),t.show&&t.num<t.template.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.template[t.num].title))]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.template[t.num].description)}})])],1),t._v(" "),t._l(t.template[t.num].question,(function(e,n){return o("b-form-row",{key:n},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-checkbox",{key:a,attrs:{value:n.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-radio",{key:a,attrs:{value:n.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",[t._l(e.answers,(function(e,n){return o("div",{key:n},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),t._v(" "),o("b-button",{on:{click:function(e){return t.addMore(n)}}},[t._v("Add")])],2):t._e()],1)],1)})),t._v(" "),t.template[t.num].tools.length?o("div",[t.template[t.num].tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:t.template[t.num].fields,items:t.template[t.num].items}})],1)],1):t._e(),t._v(" "),t.template[t.num].tools.includes("docs")||t.template[t.num].tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"my-2"},[o("b-button",{staticClass:"mr-3",on:{click:t.addDoc}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:t.removeDoc}},[t._v("Remove")])],1),t._v(" "),o("b-form-row",t._l(t.template[t.num].documents,(function(e,n){return o("b-col",{key:n,staticClass:"border p-2",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:t.num,id:e.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),""!==e.name||null!==e.name?o("div",{staticClass:"form-control"},[t._v("File Name: "+t._s(e.name))]):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()],2):t._e(),t._v(" "),t.show&&t.num==t.template.length?o("section",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v("SIGNATURE")]),t._v(" "),o("p",[o("strong",[t._v("I certify that the information submitted in this application is true and correct to the best of my knowledge.")])]),t._v(" "),o("p",[t._v("I further understand that any false statements may result in denial or revocation of the approval.")]),t._v(" "),o("p",[t._v("Full Name :")]),t._v(" "),o("p",[t._v("Date :")])])],1)],1):t._e(),t._v(" "),t.show&&t.num>t.template.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v("REVIEW APPLICATION")]),t._v(" "),o("p",[t._v("Note that total to be paid will be calculated based on categories selected")])])],1)],1):t._e()]),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.template.length+1?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.num>t.template.length?o("b-button",{attrs:{type:"submit"}},[t._v("Continue to payment")]):t._e()],1):t._e()],1):t._e()],1)}),[],!1,null,"0b611750",null);e.default=s.exports},DjVn:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-19698943]{\n  min-height: 70vh;\n  padding: 50px 0;\n}\n.upload[data-v-19698943]{\n  background: #f7f8fa;\n}\n",""])},"Dsz/":function(t,e,o){"use strict";var n=o("YyCe");o.n(n).a},EIpf:function(t,e,o){var n=o("cxP5");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},F5c2:function(t,e,o){"use strict";var n=o("cZdd");o.n(n).a},HgUM:function(t,e,o){var n=o("dwrA");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},IKzD:function(t,e,o){"use strict";o.r(e);var n={props:["form","options"],data:function(){return{num:0,show:!1}},components:{Upload:o("HsP9").a},mounted:function(){this.getLga()},methods:{getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},handleShow:function(){this.show=!this.show},next:function(){this.num++},prev:function(){0!==this.num&&this.num--}}},a=o("KHd+"),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.form?o("b-container",[o("b-form",[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.options.title))]),t._v(" "),t.num<t.form.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.form[t.num].title))]),t._v(" "),o("p",[t._v(t._s(t.form[t.num].description))])])],1),t._v(" "),t._l(t.form[t.num].question,(function(e,n){return o("b-form-row",{key:n},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-checkbox",{key:a,attrs:{value:n.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-radio",{key:a,attrs:{value:n.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",t._l(e.answers,(function(e,n){return o("div",{key:n},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),0):t._e()],1)],1)})),t._v(" "),t.form[t.num].tools.length?o("div",[t.form[t.num].tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:t.form[t.num].fields,items:t.form[t.num].items}})],1)],1):t._e(),t._v(" "),t.form[t.num].tools.includes("docs")||t.form[t.num].tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-row",t._l(t.form[t.num].documents,(function(e,n){return o("b-col",{key:n,staticClass:"border p-2",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:t.num,id:e.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),""!==e.name||null!==e.name?o("div",{staticClass:"form-control"},[t._v("File Name: "+t._s(e.name))]):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()],2):t._e(),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.form.length+1?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.num>t.form.length?o("b-button",{attrs:{type:"submit"}},[t._v("Continue to payment")]):t._e()],1):t._e()],1)],1):t._e()],1)}),[],!1,null,"43dfd98c",null).exports,r=o("ynI1"),i={props:["options"],data:function(){return{busy:!0,opened:[],openedQuestion:[],form:[{title:"",description:"",tools:[],fields:["sn",{key:""}],items:[{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}]}]}]}},mounted:function(){},methods:{processUpload:function(t){var e=this,o=this;this.start=!0;var n=new FormData,a=new XMLHttpRequest,s=this.cloudinary.cloudName,r=this.cloudinary.uploadPreset;n.append("file",t),n.append("resource_type","auto"),n.append("upload_preset",r),a.open("POST","https://api.cloudinary.com/v1_1/"+s+"/upload"),a.upload.onprogress=function(t){t.lengthComputable&&(o.progress=Math.round(t.loaded/t.total*100)+"%")},a.upload.onloadstart=function(t){this.progress="Starting..."},a.upload.onloadend=function(t){this.progress="Completing.."},a.onload=function(t){if(200===a.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var o=JSON.parse(a.response);e.uploadedFileUrl=o.secure_url,e.post.coverImage=o.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},a.send(n)},upload_handler:function(t,e,o){var n,a;(n=new XMLHttpRequest).withCredentials=!1,n.open("POST","/api/image-upload"),n.onload=function(){var t;200==n.status?(t=JSON.parse(n.responseText))&&"string"==typeof t.location?e(t.location):o("Invalid JSON: "+n.responseText):o("HTTP Error: "+n.status)},(a=new FormData).append("file",t.blob()),n.send(a)},loadFile:function(t,e,o){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept","image/*"),n.onchange=function(){var e=this.files[0],o=new FileReader;o.readAsDataURL(e),o.onload=function(){var n="blobid"+(new Date).getTime(),a=tinymce.activeEditor.editorUpload.blobCache,s=o.result.split(",")[1],r=a.create(n,e,s);a.add(r),t(r.blobUri(),{title:e.name})}},n.click()},submit:function(){var t={title:this.$props.options.title,group:this.$props.options.app_group,phase:this.$props.options.phase,options:this.$props.options,template:this.form};axios.post("/api/form-template",t).then((function(t){201==t.status&&window.location.reload()}))},addSection:function(){this.form.push({title:"",description:"",tools:[],fields:[{key:""}],items:["sn",{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}]}]})},removeSection:function(t){this.form.splice(t,1);var e=this.opened.indexOf(t);this.opened.splice(e,1)},hideSection:function(t){if(this.opened.includes(t)){var e=this.opened.indexOf(t);this.opened.splice(e,1)}else this.opened.push(t)},toggleQuestion:function(t){this.openedQuestion.includes(t)?this.openedQuestion.splice(this.openedQuestion.indexOf(t),1):this.openedQuestion.push(t)},addQuestion:function(t){this.openedQuestion.push(t),this.form[t].question.push({title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}],tools:[],fields:[{key:""}]})},removeQuestion:function(t){this.form[t].question.pop()},addOption:function(t,e){this.form[t].question[e].options.push({name:""})},removeOption:function(t){this.form[t].question[id].options.pop()},addField:function(t){this.form[t].fields.push({key:""}),this.form[t].items.push({key:""})},removeField:function(t){this.form[t].fields.pop()}},components:{Review:s,"app-editor":r.a}},l=(o("kf7G"),Object(a.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body"},[o("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("b-container",[o("b-row",{staticClass:"py-3 justify-content-end"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"mr-3",attrs:{variant:"outline-darkgreen",pill:""}},[t._v("Review")]),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"darkgreen",pill:""}},[t._v("Publish")])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:t.addSection}},[t._v("Add section")])],1),t._v(" "),t._l(t.form,(function(e,n){return o("section",{key:n,staticClass:"border p-2 mb-2"},[o("div",{staticClass:"py-2 d-flex justify-content-between"},[o("h5",[t._v(t._s(""==e.title?"Section":e.title))]),t._v(" "),o("div",[o("span",{staticClass:"mr-2 cpointer",on:{click:function(e){return t.hideSection(n)}}},[t._v(t._s(t.opened.includes(n)?"Hide":"Show"))]),t._v(" "),o("span",{on:{click:function(e){return t.removeSection(n)}}},[o("i",{staticClass:"fa fa-times-circle cpointer",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),t.opened.includes(n)?o("div",{staticClass:"m-4"},[o("b-row",{staticClass:"mb-5 border py-3"},[o("b-col",{attrs:{cols:"8"}},[o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Title")]),t._v(" "),o("b-form-input",{attrs:{label:"section",placeholder:"Enter title"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"section.title"}})],1),t._v(" "),o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:200,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,n){t.upload_handler(e,o,n)},file_picker_callback:function(e,o,n){t.loadFile(e,o,n)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:e.description,callback:function(o){t.$set(e,"description",o)},expression:"section.description"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Add Tools")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"table"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Table")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"docs"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Docs")]),t._v(" "),o("b-form-checkbox",{attrs:{value:" media"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Media")])],1),t._v(" "),e.tools.includes("table")?o("div",[t._l(e.fields,(function(e,n){return o("div",{key:n},[o("b-form-input",{attrs:{placeholder:"Table fields"},model:{value:e.key,callback:function(o){t.$set(e,"key",o)},expression:"field.key"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addField(n)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeField(n)}}},[t._v("Remove")])],1)],2):t._e()],1)],1),t._v(" "),o("b-row",[o("b-col",{staticClass:"p-0",attrs:{cols:"12"}},[o("h5",[t._v("Questions")])])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addQuestion(n)}}},[o("i",{staticClass:"fas fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeQuestion(n)}}},[o("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t._l(e.question,(function(e,a){return o("b-row",{key:a,staticClass:"border p-2"},[o("b-col",{staticClass:"d-flex justify-content-between",attrs:{cols:"12"}},[t.openedQuestion.includes(a)?t._e():o("div",[t._v(t._s(e.title))]),o("div",{staticClass:"ml-auto",on:{click:function(e){return t.toggleQuestion(a)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),t.openedQuestion.includes(a)?o("div",{staticClass:"d-flex w-100"},[o("b-col",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Type Question")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"question.title"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Question guide (Optional)")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question guide"},model:{value:e.guide,callback:function(o){t.$set(e,"guide",o)},expression:"question.guide"}})],1)],1)],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Answer Format")]),t._v(" "),o("b-form-select",{model:{value:e.answer_format,callback:function(o){t.$set(e,"answer_format",o)},expression:"question.answer_format"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Format")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi choice"}},[t._v("Multi Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"single choice"}},[t._v("Single Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"text box"}},[t._v("Text box")]),t._v(" "),o("b-form-select-option",{attrs:{value:"long text"}},[t._v("Long Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"number"}},[t._v("Number")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi text"}},[t._v("Multi Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"date"}},[t._v("Date")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Time")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Email")]),t._v(" "),o("b-form-select-option",{attrs:{value:"lga"}},[t._v("LGAs")])],1)],1),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Placeholder value")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Placeholder value"},model:{value:e.placeholder,callback:function(o){t.$set(e,"placeholder",o)},expression:"question.placeholder"}})],1):t._e(),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("div",[o("b-form-input",{attrs:{type:"number",placeholder:"Character limit"},model:{value:e.limit,callback:function(o){t.$set(e,"limit",o)},expression:"question.limit"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format||"single choice"==e.answer_format?o("div",[t._l(e.options,(function(e,n){return o("div",{key:n},[o("b-form-input",{attrs:{placeholder:"Options"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"option.name"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addOption(n,a)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeOption(n,a)}}},[t._v("Remove")])],1)],2):t._e()],1)],1):t._e()],1)}))],2):t._e()])}))],2)],1),t._v(" "),o("div",[o("b-modal",{attrs:{id:"modal-1",title:"Review",size:"lg","hide-footer":""}},[o("Review",{attrs:{options:t.options,form:t.form}})],1)],1)],1)}),[],!1,null,"b807d70c",null).exports),c={data:function(){return{fields:["sn","title","group","phase","action"],items:[]}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;axios.get("/api/form-template").then((function(e){200==e.status&&(t.items=e.data)}))},view:function(t){var e=t.id,o=t.title;this.$router.push("/form/".concat(e,"/").concat(o.replace(/ /g,"-")))}}},u=(o("W5qn"),{data:function(){return{options:{title:"",description:"",app_group:"",step:{title:"",description:"",purpose:"",feedback:""},phase:"",feedback:{type:"",title:"",text:"",purpose:""},signature:!1,payment:!1,price:null},type:"list",appGroups:[]}},components:{Creation:l,List:Object(a.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("b-table",{attrs:{items:t.items,fields:t.fields,bordered:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v("\n                    "+t._s(e.index+1)+"\n                ")])]}},{key:"cell(action)",fn:function(e){return[o("div",{on:{click:function(o){return t.view(e.item)}}},[t._v("\n                   view\n                ")])]}}])})],1)],1)}),[],!1,null,"cb3408b4",null).exports,"app-editor":r.a},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))}}}),p=(o("cwGr"),Object(a.a)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["option"==t.type?o("b-container",[o("h4",{staticClass:"text-center mb-5"},[t._v("Form Settings")]),t._v(" "),o("b-form",[o("b-form-group",[o("h5",[t._v("General Information")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Form Title")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"title"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Application Group")]),t._v(" "),o("b-form-select",{model:{value:t.options.app_group,callback:function(e){t.$set(t.options,"app_group",e)},expression:"options.app_group"}},[o("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v("Select Group")]),t._v(" "),t._l(t.appGroups,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.title}},[t._v(t._s(e.title))])}))],2)],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Form Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:200,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,n){t.upload_handler(e,o,n)},file_picker_callback:function(e,o,n){t.loadFile(e,o,n)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:t.options.description,callback:function(e){t.$set(t.options,"description",e)},expression:"options.description"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Form Phase")]),t._v(" "),o("b-form-row",[o("b-form-input",{staticClass:"w-25",attrs:{type:"number",placeholder:"Phase number"},model:{value:t.options.phase,callback:function(e){t.$set(t.options,"phase",e)},expression:"options.phase"}})],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Feedback")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("b-form-radio",{attrs:{value:"manual"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Manual")]),t._v(" "),o("b-form-radio",{attrs:{value:"automatic"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Automatic")])],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{model:{value:t.options.feedback.title,callback:function(e){t.$set(t.options.feedback,"title",e)},expression:"options.feedback.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Text")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.text,callback:function(e){t.$set(t.options.feedback,"text",e)},expression:"options.feedback.text"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.purpose,callback:function(e){t.$set(t.options.feedback,"purpose",e)},expression:"options.feedback.purpose"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Signature")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("No")])],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Payment")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("No")])],1)],1),t._v(" "),t.options.payment?o("b-form-row",[o("b-form-input",{attrs:{placeholder:"Price"},model:{value:t.options.price,callback:function(e){t.$set(t.options,"price",e)},expression:"options.price"}})],1):t._e()],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("create")}}},[t._v("Save Settings")])],1)],1):t._e(),t._v(" "),o("b-container",{staticClass:"p-0"},["list"==t.type?o("b-row",{staticClass:"p-3  justify-content-between"},[o("router-link",{attrs:{to:"/admin/forms"}},[o("b-button",{attrs:{variant:"outline-darkgreen"}},[t._v("Back ")])],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("option")}}},[t._v("Create Form")])],1):t._e()],1),t._v(" "),"create"==t.type?o("Creation",{attrs:{options:t.options}}):t._e(),t._v(" "),"list"==t.type?o("List",{attrs:{options:t.options}}):t._e()],1)}),[],!1,null,"2fcded6e",null));e.default=p.exports},JQ3E:function(t,e,o){"use strict";var n=o("w6IT");o.n(n).a},"NGi+":function(t,e,o){var n=o("4++f");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},O0k9:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-727a661a] {\n  padding: 50px 0;\n}\n.main-box[data-v-727a661a] {\n  padding: 20px;\n  background: #f7f8fa;\n  position: relative;\n}\nsection[data-v-727a661a]{\n  background: #f7f8fa;\n}\n.top-box[data-v-727a661a] {\n  margin: 0 auto;\n  background: white;\n  height: auto;\n}\n.bottom-box[data-v-727a661a] {\n  margin: 0 auto;\n  background: white;\n}\n.hide[data-v-727a661a] {\n  height: 120px;\n  overflow: hidden;\n}\n.btn-sm[data-v-727a661a] {\n  padding: 0.1rem 0.4rem;\n  font-size: 0.4rem;\n  line-height: 1.5;\n}\n",""])},Qw47:function(t,e,o){"use strict";var n=o("nby6");o.n(n).a},T8Iw:function(t,e,o){"use strict";o.r(e);var n={props:["form","options"],data:function(){return{num:0,show:!1}},components:{Upload:o("HsP9").a},mounted:function(){this.getLga()},methods:{getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},handleShow:function(){this.show=!this.show},next:function(){this.num++},prev:function(){0!==this.num&&this.num--}}},a=o("KHd+"),s={props:["options"],data:function(){return{busy:!0,opened:[],openedQuestion:[],form:[{title:"",description:"",tools:[],fields:["sn",{key:""}],items:[{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[{answer:""}],limit:"",placeholder:"",options:[{name:""}]}]}]}},mounted:function(){},methods:{processUpload:function(t){var e=this,o=this;this.start=!0;var n=new FormData,a=new XMLHttpRequest,s=this.cloudinary.cloudName,r=this.cloudinary.uploadPreset;n.append("file",t),n.append("resource_type","auto"),n.append("upload_preset",r),a.open("POST","https://api.cloudinary.com/v1_1/"+s+"/upload"),a.upload.onprogress=function(t){t.lengthComputable&&(o.progress=Math.round(t.loaded/t.total*100)+"%")},a.upload.onloadstart=function(t){this.progress="Starting..."},a.upload.onloadend=function(t){this.progress="Completing.."},a.onload=function(t){if(200===a.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var o=JSON.parse(a.response);e.uploadedFileUrl=o.secure_url,e.post.coverImage=o.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},a.send(n)},upload_handler:function(t,e,o){var n,a;(n=new XMLHttpRequest).withCredentials=!1,n.open("POST","/api/image-upload"),n.onload=function(){var t;200==n.status?(t=JSON.parse(n.responseText))&&"string"==typeof t.location?e(t.location):o("Invalid JSON: "+n.responseText):o("HTTP Error: "+n.status)},(a=new FormData).append("file",t.blob()),n.send(a)},loadFile:function(t,e,o){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept","image/*"),n.onchange=function(){var e=this.files[0],o=new FileReader;o.readAsDataURL(e),o.onload=function(){var n="blobid"+(new Date).getTime(),a=tinymce.activeEditor.editorUpload.blobCache,s=o.result.split(",")[1],r=a.create(n,e,s);a.add(r),t(r.blobUri(),{title:e.name})}},n.click()},submit:function(){var t={title:this.$props.options.title,group:this.$props.options.app_group,phase:this.$props.options.phase,options:this.$props.options,template:this.form};axios.post("/api/form-template",t).then((function(t){201==t.status&&window.location.reload()}))},addSection:function(){this.form.push({title:"",description:"",tools:[],fields:[{key:""}],items:["sn",{key:""}],documents:[{name:"",file:""}],question:[{title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}]}]})},removeSection:function(t){this.form.splice(t,1);var e=this.opened.indexOf(t);this.opened.splice(e,1)},hideSection:function(t){if(this.opened.includes(t)){var e=this.opened.indexOf(t);this.opened.splice(e,1)}else this.opened.push(t)},toggleQuestion:function(t){this.openedQuestion.includes(t)?this.openedQuestion.splice(this.openedQuestion.indexOf(t),1):this.openedQuestion.push(t)},addQuestion:function(t){this.openedQuestion.push(t),this.form[t].question.push({title:"",guide:"",answer_format:"",answer:"",answers:[],options:[{name:""}],tools:[],fields:[{key:""}]})},removeQuestion:function(t){this.form[t].question.pop()},addOption:function(t,e){this.form[t].question[e].options.push({name:""})},removeOption:function(t){this.form[t].question[id].options.pop()},addField:function(t){this.form[t].fields.push({key:""}),this.form[t].items.push({key:""})},removeField:function(t){this.form[t].fields.pop()}},components:{Review:Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.form?o("b-container",[o("b-form",[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.options.title))]),t._v(" "),t.num<t.form.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.form[t.num].title))]),t._v(" "),o("p",[t._v(t._s(t.form[t.num].description))])])],1),t._v(" "),t._l(t.form[t.num].question,(function(e,n){return o("b-form-row",{key:n},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-checkbox",{key:a,attrs:{value:n.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-radio",{key:a,attrs:{value:n.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",t._l(e.answers,(function(e,n){return o("div",{key:n},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),0):t._e()],1)],1)})),t._v(" "),t.form[t.num].tools.length?o("div",[t.form[t.num].tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:t.form[t.num].fields,items:t.form[t.num].items}})],1)],1):t._e(),t._v(" "),t.form[t.num].tools.includes("docs")||t.form[t.num].tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-row",t._l(t.form[t.num].documents,(function(e,n){return o("b-col",{key:n,staticClass:"border p-2",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:t.num,id:e.name},on:{getUploadDetails:t.getUploadDetails}}),t._v(" "),""!==e.name||null!==e.name?o("div",{staticClass:"form-control"},[t._v("File Name: "+t._s(e.name))]):t._e()],1)])})),1)],1)],1):t._e()],1):t._e()],2):t._e(),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.form.length+1?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.num>t.form.length?o("b-button",{attrs:{type:"submit"}},[t._v("Continue to payment")]):t._e()],1):t._e()],1)],1):t._e()],1)}),[],!1,null,"02412bbe",null).exports,"app-editor":o("ynI1").a}},r=(o("F5c2"),Object(a.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body"},[o("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("b-container",[o("b-row",{staticClass:"py-3 justify-content-end"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"mr-3",attrs:{variant:"outline-darkgreen",pill:""}},[t._v("Review")]),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"darkgreen",pill:""}},[t._v("Publish")])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:t.addSection}},[t._v("Add section")])],1),t._v(" "),t._l(t.form,(function(e,n){return o("section",{key:n,staticClass:"border p-2 mb-2"},[o("div",{staticClass:"py-2 d-flex justify-content-between"},[o("h5",[t._v(t._s(""==e.title?"Section":e.title))]),t._v(" "),o("div",[o("span",{staticClass:"mr-2 cpointer",on:{click:function(e){return t.hideSection(n)}}},[t._v(t._s(t.opened.includes(n)?"Hide":"Show"))]),t._v(" "),o("span",{on:{click:function(e){return t.removeSection(n)}}},[o("i",{staticClass:"fa fa-times-circle cpointer",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),t.opened.includes(n)?o("div",{staticClass:"m-4"},[o("b-row",{staticClass:"mb-5 border py-3"},[o("b-col",{attrs:{cols:"8"}},[o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Title")]),t._v(" "),o("b-form-input",{attrs:{label:"section",placeholder:"Enter title"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"section.title"}})],1),t._v(" "),o("b-form-group",[o("label",{attrs:{for:"section"}},[t._v("Section Description")]),t._v(" "),o("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:300,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,o,n){t.upload_handler(e,o,n)},file_picker_callback:function(e,o,n){t.loadFile(e,o,n)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:e.description,callback:function(o){t.$set(e,"description",o)},expression:"section.description"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Add Tools")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"table"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Table")]),t._v(" "),o("b-form-checkbox",{attrs:{value:"docs"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Docs")]),t._v(" "),o("b-form-checkbox",{attrs:{value:" media"},model:{value:e.tools,callback:function(o){t.$set(e,"tools",o)},expression:"section.tools"}},[t._v("Attach Media")])],1),t._v(" "),e.tools.includes("table")?o("div",[t._l(e.fields,(function(e,n){return o("div",{key:n},[o("b-form-input",{attrs:{placeholder:"Table fields"},model:{value:e.key,callback:function(o){t.$set(e,"key",o)},expression:"field.key"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addField(n)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeField(n)}}},[t._v("Remove")])],1)],2):t._e()],1)],1),t._v(" "),o("b-row",[o("b-col",{staticClass:"p-0",attrs:{cols:"12"}},[o("h5",[t._v("Questions")])])],1),t._v(" "),o("b-row",{staticClass:"py-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addQuestion(n)}}},[o("i",{staticClass:"fas fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeQuestion(n)}}},[o("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t._l(e.question,(function(e,a){return o("b-row",{key:a,staticClass:"border p-2"},[o("b-col",{staticClass:"d-flex justify-content-between",attrs:{cols:"12"}},[t.openedQuestion.includes(a)?t._e():o("div",[t._v(t._s(e.title))]),o("div",{staticClass:"ml-auto",on:{click:function(e){return t.toggleQuestion(a)}}},[o("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),t.openedQuestion.includes(a)?o("div",{staticClass:"d-flex w-100"},[o("b-col",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Type Question")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"question.title"}})],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Question guide (Optional)")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Question guide"},model:{value:e.guide,callback:function(o){t.$set(e,"guide",o)},expression:"question.guide"}})],1)],1)],1)],1),t._v(" "),o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Answer Format")]),t._v(" "),o("b-form-select",{model:{value:e.answer_format,callback:function(o){t.$set(e,"answer_format",o)},expression:"question.answer_format"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Format")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi choice"}},[t._v("Multi Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"single choice"}},[t._v("Single Choice")]),t._v(" "),o("b-form-select-option",{attrs:{value:"text box"}},[t._v("Text box")]),t._v(" "),o("b-form-select-option",{attrs:{value:"long text"}},[t._v("Long Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"number"}},[t._v("Number")]),t._v(" "),o("b-form-select-option",{attrs:{value:"multi text"}},[t._v("Multi Text")]),t._v(" "),o("b-form-select-option",{attrs:{value:"date"}},[t._v("Date")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Time")]),t._v(" "),o("b-form-select-option",{attrs:{value:"time"}},[t._v("Email")]),t._v(" "),o("b-form-select-option",{attrs:{value:"lga"}},[t._v("LGAs")])],1)],1),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Placeholder value")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"Placeholder value"},model:{value:e.placeholder,callback:function(o){t.$set(e,"placeholder",o)},expression:"question.placeholder"}})],1):t._e(),t._v(" "),"text box"==e.answer_format||"number"==e.answer_format?o("div",[o("b-form-input",{attrs:{type:"number",placeholder:"Character limit"},model:{value:e.limit,callback:function(o){t.$set(e,"limit",o)},expression:"question.limit"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format||"single choice"==e.answer_format?o("div",[t._l(e.options,(function(e,n){return o("div",{key:n},[o("b-form-input",{attrs:{placeholder:"Options"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"option.name"}})],1)})),t._v(" "),o("b-row",{staticClass:"p-3"},[o("b-button",{staticClass:"mr-3",on:{click:function(e){return t.addOption(n,a)}}},[t._v("Add")]),t._v(" "),o("b-button",{on:{click:function(e){return t.removeOption(n,a)}}},[t._v("Remove")])],1)],2):t._e()],1)],1):t._e()],1)}))],2):t._e()])}))],2)],1),t._v(" "),o("div",[o("b-modal",{attrs:{id:"modal-1",title:"Review",size:"lg","hide-footer":""}},[o("Review",{attrs:{options:t.options,form:t.form}})],1)],1)],1)}),[],!1,null,"727a661a",null).exports),i={data:function(){return{fields:["sn","title","group","phase","action"],items:[]}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;axios.get("/api/form-template").then((function(e){200==e.status&&(t.items=e.data)}))},view:function(t){var e=t.id,o=t.title;this.$router.push("/form/".concat(e,"/").concat(o.replace(/ /g,"-")))}}},l=(o("Dsz/"),{data:function(){return{options:{title:"",description:"",app_group:"",step:{title:"",description:"",purpose:"",feedback:""},phase:"",feedback:{type:"",title:"",text:"",purpose:""},signature:!1,payment:!1,price:null},type:"list",appGroups:[]}},components:{Creation:r,List:Object(a.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("b-table",{attrs:{items:t.items,fields:t.fields,bordered:""},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v("\n                    "+t._s(e.index+1)+"\n                ")])]}},{key:"cell(action)",fn:function(e){return[o("div",{on:{click:function(o){return t.view(e.item)}}},[t._v("\n                   view\n                ")])]}}])})],1)],1)}),[],!1,null,"08565800",null).exports},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))}}}),c=(o("dGUM"),Object(a.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["option"==t.type?o("b-container",[o("h4",{staticClass:"text-center mb-5"},[t._v("Form Settings")]),t._v(" "),o("b-form",[o("b-form-group",[o("h5",[t._v("General Information")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Form Title")]),t._v(" "),o("b-form-input",{attrs:{placeholder:"title"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Application Group")]),t._v(" "),o("b-form-select",{model:{value:t.options.app_group,callback:function(e){t.$set(t.options,"app_group",e)},expression:"options.app_group"}},[o("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v("Select Group")]),t._v(" "),t._l(t.appGroups,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.title}},[t._v(t._s(e.title))])}))],2)],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Form Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.description,callback:function(e){t.$set(t.options,"description",e)},expression:"options.description"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Form Phase")]),t._v(" "),o("b-form-row",[o("b-form-input",{staticClass:"w-25",attrs:{type:"number",placeholder:"Phase number"},model:{value:t.options.phase,callback:function(e){t.$set(t.options,"phase",e)},expression:"options.phase"}})],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Feedback")]),t._v(" "),o("b-form-row",[o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("b-form-radio",{attrs:{value:"manual"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Manual")]),t._v(" "),o("b-form-radio",{attrs:{value:"automatic"},model:{value:t.options.feedback.type,callback:function(e){t.$set(t.options.feedback,"type",e)},expression:"options.feedback.type"}},[t._v("Automatic")])],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{model:{value:t.options.feedback.title,callback:function(e){t.$set(t.options.feedback,"title",e)},expression:"options.feedback.title"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Text")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.text,callback:function(e){t.$set(t.options.feedback,"text",e)},expression:"options.feedback.text"}})],1),t._v(" "),o("b-col",{staticClass:"mb-3",attrs:{cols:"6"}},[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.options.feedback.purpose,callback:function(e){t.$set(t.options.feedback,"purpose",e)},expression:"options.feedback.purpose"}})],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Signature")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.signature,callback:function(e){t.$set(t.options,"signature",e)},expression:"options.signature"}},[t._v("No")])],1)],1)],1),t._v(" "),o("b-form-group",[o("h5",[t._v("Payment")]),t._v(" "),o("b-form-row",[o("b-form-group",[o("b-form-radio",{attrs:{value:!0},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("Yes")]),t._v(" "),o("b-form-radio",{attrs:{value:!1},model:{value:t.options.payment,callback:function(e){t.$set(t.options,"payment",e)},expression:"options.payment"}},[t._v("No")])],1)],1),t._v(" "),t.options.payment?o("b-form-row",[o("b-form-input",{attrs:{placeholder:"Price"},model:{value:t.options.price,callback:function(e){t.$set(t.options,"price",e)},expression:"options.price"}})],1):t._e()],1),t._v(" "),o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("create")}}},[t._v("Save Settings")])],1)],1):t._e(),t._v(" "),o("b-container",{staticClass:"p-0"},["list"==t.type?o("b-row",{staticClass:"p-3"},[o("b-button",{attrs:{variant:"darkgreen"},on:{click:function(e){return t.handleType("option")}}},[t._v("Create Form")])],1):t._e()],1),t._v(" "),"create"==t.type?o("Creation",{attrs:{options:t.options}}):t._e(),t._v(" "),"list"==t.type?o("List",{attrs:{options:t.options}}):t._e()],1)}),[],!1,null,"61a88e93",null));e.default=c.exports},W5qn:function(t,e,o){"use strict";var n=o("EIpf");o.n(n).a},Y6Lb:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-b807d70c] {\n  padding: 50px 0;\n}\n.main-box[data-v-b807d70c] {\n  padding: 20px;\n  background: #f7f8fa;\n  position: relative;\n}\nsection[data-v-b807d70c]{\n  background: #f7f8fa;\n}\n.top-box[data-v-b807d70c] {\n  margin: 0 auto;\n  background: white;\n  height: auto;\n}\n.bottom-box[data-v-b807d70c] {\n  margin: 0 auto;\n  background: white;\n}\n.hide[data-v-b807d70c] {\n  height: 120px;\n  overflow: hidden;\n}\n.btn-sm[data-v-b807d70c] {\n  padding: 0.1rem 0.4rem;\n  font-size: 0.4rem;\n  line-height: 1.5;\n}\n",""])},YyCe:function(t,e,o){var n=o("5xyH");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},"a+Xs":function(t,e,o){var n=o("Y6Lb");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},cZdd:function(t,e,o){var n=o("O0k9");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},cgfh:function(t,e,o){"use strict";o.r(e);var n={data:function(){return{type:"",appFields:["sn","title","description","purpose","phases","action"],appGroups:[],group:{title:"",description:"",purpose:"",phase:""}}},mounted:function(){this.getGroups()},methods:{handleType:function(t){this.type=t},getGroups:function(){var t=this;axios.get("/api/app-group").then((function(e){200==e.status&&(t.appGroups=e.data)}))},addGroup:function(){var t=this;axios.post("/api/app-group",this.group).then((function(e){201==e.status&&(t.getGroups(),t.group={title:"",description:"",purpose:"",phase:""})}))}}},a=(o("Qw47"),o("KHd+")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[""==t.type?o("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("group")}}},[t._v("Application Group")]),t._v(" "),o("b-col",{staticClass:"box shadow"},[o("router-link",{attrs:{to:"/admin/form"}},[t._v("Forms")])],1),t._v(" "),o("b-col",{staticClass:"box shadow",on:{click:function(e){return t.handleType("applications")}}},[t._v("Applications")])],1):t._e(),t._v(" "),"group"==t.type?o("b-row",[o("b-col",[o("b-row",[o("h4",{staticClass:"mb-4"},[t._v("Application Groups")])]),t._v(" "),o("b-row",{staticClass:"mb-3"},[o("b-col",{attrs:{cols:"9"}},[o("b-table",{attrs:{items:t.appGroups,fields:t.appFields},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[o("div",[t._v(t._s(e.index+1))])]}},{key:"cell(action)",fn:function(e){return[o("div",[t._v("Edit")])]}}],null,!1,493339137)})],1),t._v(" "),o("b-col",{staticClass:"bg-lightwhite p-2",attrs:{cols:"3"}},[o("b-form",[o("div",{staticClass:"text-center"},[o("strong",[t._v("New Group")])]),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Title"},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Phases")]),t._v(" "),o("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"4",type:"number"},model:{value:t.group.phase,callback:function(e){t.$set(t.group,"phase",e)},expression:"group.phase"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("label",{attrs:{for:""}},[t._v("Purpose")]),t._v(" "),o("b-form-textarea",{model:{value:t.group.purpose,callback:function(e){t.$set(t.group,"purpose",e)},expression:"group.purpose"}})],1)],1)],1),t._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",[o("b-button",{on:{click:t.addGroup}},[t._v("Create")])],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)}),[],!1,null,"104ae82a",null);e.default=s.exports},cwGr:function(t,e,o){"use strict";var n=o("HgUM");o.n(n).a},cxP5:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-cb3408b4]{\n    padding:50px 15px;\n}\n",""])},dGUM:function(t,e,o){"use strict";var n=o("NGi+");o.n(n).a},dwrA:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".container[data-v-2fcded6e] {\n  padding: 50px 0;\n}\n.form-group[data-v-2fcded6e] {\n  margin-bottom: 24px;\n}",""])},e0QQ:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.container[data-v-104ae82a] {\n  padding: 50px 15px;\n  height: 100vh;\n}\n.box[data-v-104ae82a]{\n  height: 200px;\n  width: 32%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.bg-lightwhite[data-v-104ae82a]{\n  background:#f7f8fa;\n}\n",""])},"jh/f":function(t,e,o){"use strict";o.r(e);var n=o("HsP9"),a=o("nZrq"),s=o("i4C1"),r=o("HBaR"),i={data:function(){return{email:"",form:{},num:0,template:[],options:{},show:!1}},components:{Upload:n.a,Navigation:a.a,Footer:s.a,Payment:r.a},mounted:function(){this.getItems(this.$route.params.id),this.getLga()},methods:{closeForm:function(){this.$router.push("/forms")},getResponse:function(t){var e=this;if("success"==t.status){var o={ref:t.trxref,payment:this.options.payment,price:this.options.price,response:this.template,payment_status:t.status,phase:this.options.phase,name:this.options.title,group:this.options.group};axios.post("/api/application",o).then((function(t){201==t.status&&e.$bvModal.show("modal-1")}))}},submit:function(){var t=this,e={ref:"Non Payment",payment:this.options.payment,price:"Non Payment",response:this.template,payment_status:"None",phase:this.options.phase,name:this.options.title,group:this.options.group};axios.post("/api/application",e).then((function(e){201==e.status&&t.$bvModal.show("modal-1")}))},getLga:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)}))},getUploadDetails:function(t,e){this.data.documents[t].file=e.secure_url},next:function(){this.num++},prev:function(){0!==this.num&&this.num--},handleShow:function(){this.show=!this.show},getItems:function(t){var e=this;axios.get("/api/form-template/".concat(t)).then((function(t){200==t.status&&(e.form=t.data,e.template=JSON.parse(t.data.template),e.options=JSON.parse(t.data.options))}))},addMore:function(t){this.template[this.num].question[t].answers.push({answer:""})},addDoc:function(){this.template[this.num].documents.push({name:"",file:""})},removeDoc:function(){this.template[this.num].documents.pop()}}},l=(o("JQ3E"),o("KHd+")),c=Object(l.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Navigation"),t._v(" "),t.form&&t.options?o("b-container",[o("b-form",{staticClass:"border  p-3"},[o("legend",{staticClass:"text-center mb-5"},[t._v(t._s(t.form.title))]),t._v(" "),t.show?t._e():o("section",{staticClass:"text-center"},[o("b-form-row",[o("b-col",{staticClass:"text-center"},[o("p",{domProps:{innerHTML:t._s(t.options.description)}})])],1),t._v(" "),o("b-form-row",{staticClass:"justify-content-center"},[o("b-button",{on:{click:t.handleShow}},[t._v("Begin Application")])],1)],1),t._v(" "),t.show&&t.num<t.template.length?o("section",[o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v(t._s(t.template[t.num].title))]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.template[t.num].description)}})])],1),t._v(" "),t._l(t.template[t.num].question,(function(e,n){return o("b-form-row",{key:n},[o("b-col",{attrs:{cols:"12"}},["text box"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"text",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"lga"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v("LGA")]),t._v(" "),o("b-form-select",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[o("b-form-select-option",{attrs:{value:""}},[t._v("Select Lga")]),t._v(" "),t._l(t.lgas,(function(e,n){return o("b-form-select-option",{key:n,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],2)],1):t._e(),t._v(" "),"email"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"email",placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"number"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-input",{attrs:{type:"number",placeholder:e.placeholder,max:e.limit},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"long text"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("b-form-textarea",{attrs:{placeholder:e.placeholder},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-checkbox",{key:a,attrs:{value:n.name},model:{value:e.answers,callback:function(o){t.$set(e,"answers",o)},expression:"question.answers"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"single choice"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),t._l(e.options,(function(n,a){return o("b-form-radio",{key:a,attrs:{value:n.name},model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}},[t._v(t._s(n.name))])}))],2):t._e(),t._v(" "),"date"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-calendar",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"time"==e.answer_format?o("b-form-group",[o("label",{attrs:{for:""}},[t._v(t._s(e.title))]),t._v(" "),o("br"),t._v(" "),o("b-time",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"question.answer"}})],1):t._e(),t._v(" "),"multi text"==e.answer_format?o("b-form-group",[t._l(e.answers,(function(e,n){return o("div",{key:n},[o("b-form-input",{model:{value:e.answer,callback:function(o){t.$set(e,"answer",o)},expression:"item.answer"}})],1)})),t._v(" "),o("b-button",{on:{click:function(e){return t.addMore(n)}}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})])],2):t._e()],1)],1)})),t._v(" "),t.template[t.num].tools.length?o("div",[t.template[t.num].tools.includes("table")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("b-table",{attrs:{fields:t.template[t.num].fields,items:t.template[t.num].items}})],1)],1):t._e(),t._v(" "),t.template[t.num].tools.includes("docs")||t.template[t.num].tools.includes("media")?o("b-form-row",[o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"my-2"},[o("b-button",{staticClass:"mr-3",on:{click:t.addDoc}},[o("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),t.template[t.num].documents.length>1?o("b-button",{on:{click:t.removeDoc}},[o("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),o("b-form-row",t._l(t.template[t.num].documents,(function(e,n){return o("b-col",{key:n,staticClass:"border p-2 upload",attrs:{cols:"3"}},[o("div",[o("b-form-input",{attrs:{type:"text",placeholder:"File name"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"doc.name"}}),t._v(" "),o("Upload",{attrs:{index:t.num,id:e.name},on:{getUploadDetails:t.getUploadDetails}})],1)])})),1)],1)],1):t._e()],1):t._e()],2):t._e(),t._v(" "),t.options.signature?o("div",[t.show&&t.num>=t.template.length?o("section",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h5",[t._v("SIGNATURE")]),t._v(" "),o("p",[o("strong",[t._v("I certify that the information submitted in this application is true and correct to the best of my knowledge.")])]),t._v(" "),o("p",[t._v("I further understand that any false statements may result in denial or revocation of the approval.")]),t._v(" "),o("p",[t._v("Full Name :")]),t._v(" "),o("p",[t._v("Date :")])])],1),t._v(" "),o("hr"),t._v(" "),t.options.payment?o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("p",[o("strong",[t._v(" Price: "+t._s(t.options.price))])]),t._v(" "),o("b-form-row",[o("b-col",{attrs:{cols:"1"}},[o("label",{attrs:{for:""}},[o("strong",[t._v("Email:")])])]),t._v(" "),o("b-col",{attrs:{cols:"6"}},[o("b-form-input",{attrs:{placeholder:"example@email.com",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1):t._e()],1):t._e()]):t._e()]),t._v(" "),t.show?o("b-row",{staticClass:"justify-content-between w-100 my-3"},[o("b-button",{on:{click:t.prev}},[t._v("Previous")]),t._v(" "),t.num<t.template.length?o("b-button",{on:{click:t.next}},[t._v("Next")]):t._e(),t._v(" "),t.options.payment&&t.num>=t.template.length?o("div",[o("Payment",{attrs:{amount1:Number(t.options.price),email1:t.email},on:{getResponse:t.getResponse}})],1):t._e(),t._v(" "),!t.options.payment&&t.num>=t.template.length?o("div",[o("b-button",{attrs:{type:"submit"}},[t._v("Submit")])],1):t._e()],1):t._e()],1):t._e(),t._v(" "),t.options.feedback?o("b-modal",{attrs:{id:"modal-1",size:"lg","hide-footer":""}},[t.options.feedback?o("div",{staticClass:"text-center"},[o("h5",[t._v(t._s(t.options.feedback.title))]),t._v(" "),o("p",[t._v(t._s(t.options.feedback.text))]),t._v(" "),o("b-button",{attrs:{variant:"outline-darkgreen"},on:{click:t.closeForm}},[t._v("Close")])],1):t._e()]):t._e(),t._v(" "),o("Footer")],1)}),[],!1,null,"19698943",null);e.default=c.exports},kf7G:function(t,e,o){"use strict";var n=o("a+Xs");o.n(n).a},nby6:function(t,e,o){var n=o("e0QQ");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)},syty:function(t,e,o){"use strict";var n=o("4oUW");o.n(n).a},w6IT:function(t,e,o){var n=o("DjVn");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,a);n.locals&&(t.exports=n.locals)}}]);