(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"8Vxu":function(t,e,n){"use strict";n.r(e);var a={data:function(){return{search:"",filter_item:"",lga:"selected",fields:["#",{key:"name",sortable:!0},{key:"lga",sortable:!0},"email","address","phone_no","sector","type","action"],items:[],item:!1,row_number:1,schools:[],last_page:"",first_page:"",next_page:"",prev_page:"",current_page:1,total_schools:0,admin:!1,filter:!1,filterOpen:!1,lgas:[]}},mounted:function(){this.retrieveSchools(),this.getLgas(),window.innerWidth<768&&(this.filterOpen=!0)},watch:{search:"handleSearch",lga:"handleLga",item:"selectAll"},methods:{getLgas:function(){var t=this;axios.get("/api/show-lgas").then((function(e){200==e.status&&(t.lgas=e.data)})).catch((function(t){}))},reset:function(){this.filter_item=""},handleFilter:function(){this.filter=!this.filter,this.filterOpen=!this.filterOpen},firstPage:function(){var t=this;axios.get(this.first_page).then((function(e){t.next_page=e.data.next_page_url,t.prev_page=e.data.prev_page_url,t.current_page=e.data.current_page,t.schools=e.data.data}))},lastPage:function(){var t=this;axios.get(this.last_page).then((function(e){t.next_page=e.data.next_page_url,t.prev_page=e.data.prev_page_url,t.current_page=e.data.current_page,t.schools=e.data.data}))},next:function(){var t=this;this.next_page&&axios.get(this.next_page).then((function(e){t.next_page=e.data.next_page_url,t.prev_page=e.data.prev_page_url,t.current_page=e.data.current_page,t.schools=e.data.data}))},prev:function(){var t=this;this.prev_page&&axios.get(this.prev_page).then((function(e){t.next_page=e.data.next_page_url,t.prev_page=e.data.prev_page_url,t.current_page=e.data.current_page,t.schools=e.data.data}))},selectAll:function(){var t=this;this.item?(this.items=[],this.schools.forEach((function(e){t.items.push(e.id)}))):this.items=[]},handleClick:function(t){this.filter_item=t,this.search="",this.lga="selected"},handleSearch:function(){this.filter_item=this.search,this.lga="selected"},handleLga:function(){this.filter_item=this.lga,this.search=""},retrieveSchools:function(){var t=this;axios.get("/api/get-schools").then((function(e){200==e.status&&(t.schools=e.data.data,t.total_schools=e.data.total,t.row_number=e.data.per_page,t.last_page=e.data.last_page_url,t.first_page=e.data.first_page_url,t.next_page=e.data.next_page_url,t.prev_page=e.data.prev_page_url,t.current_page=e.data.current_page)})).catch((function(t){console.log("retrieveSchools -> err",t)}))},viewSchool:function(t){this.$router.push("/directory/school/".concat(t))},deleteSchool:function(t){confirm("Are you sure about this?")&&axios.delete("/api/delete-school/".concat(t)).then((function(t){t.status})).catch((function(t){console.log("del -> err",t)}))},deleteSchools:function(){confirm("Are you sure about this?")&&axios.post("/api/mass-delete",this.items).then((function(t){t.status})).catch((function(t){console.log("del -> err",t)}))}},computed:{sortedSchools:function(){var t=this;return"primary/nursery"==this.filter_item||"primary"==this.filter_item||"secondary"==this.filter_item||"tertiary"==this.filter_item?this.schools.filter((function(e){return e.level.toLowerCase()==t.filter_item.toLowerCase()})):"boarding"==this.filter_item||"day"==this.filter_item?this.schools.filter((function(e){return e.type.toLowerCase()==t.filter_item.toLowerCase()})):"private"==this.filter_item||"public"==this.filter_item?this.schools.filter((function(e){return e.sector.toLowerCase()==t.filter_item.toLowerCase()})):"individual"==this.filter_item||"faith"==this.filter_item?this.schools.filter((function(e){return e.ownership.toLowerCase()==t.filter_item.toLowerCase()})):"accredited"==this.filter_item||"non-accredited"==this.filter_item?this.schools.filter((function(e){return e.accreditation.toLowerCase()==t.filter_item.toLowerCase()})):"selected"!==this.lga?this.schools.filter((function(e){return e.lga.toLowerCase()==t.filter_item.toLowerCase()})):""!==this.search?this.schools.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})):this.schools}}},i=(n("vhI4"),n("KHd+")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"main-content"},[n("div",{staticClass:"left_side"},[n("div",{staticClass:"side_bar"},[n("div",{staticClass:"mobile-filter",on:{click:t.handleFilter}},[t._m(0)]),t._v(" "),t.filter?n("div",{staticClass:"mobile-filter-option text-right"},[n("input",{staticClass:"form-control ",staticStyle:{"text-transform":"capitalize"},attrs:{type:"text",readonly:""},domProps:{value:t.filter_item}}),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-primary btn-sm ml-auto",attrs:{type:"button"},on:{click:t.handleFilter}},[t._v("Apply")])]):t._e(),t._v(" "),t.filterOpen?t._e():n("ul",[n("h6",[t._v("Category")]),t._v(" "),n("li",[n("p",{on:{click:function(e){return t.handleClick("all")}}},[t._v("All")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("primary/nursery")}}},[t._v("Nursery / Primary")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("secondary")}}},[t._v("Secondary")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("tertiary")}}},[t._v("Tertiary")])]),t._v(" "),n("h6",[t._v("Filter")]),t._v(" "),n("li",[n("p",{on:{click:function(e){return t.handleClick("boarding")}}},[t._v("Boarding")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("day")}}},[t._v("Day")])]),t._v(" "),n("li",[n("p",{on:{click:function(e){return t.handleClick("private")}}},[t._v("Private")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("public")}}},[t._v("Public")])]),t._v(" "),n("li",[n("p",{on:{click:function(e){return t.handleClick("individual")}}},[t._v("Individually Owned")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("faith")}}},[t._v("Faith Based")])]),t._v(" "),n("li",[n("p",{on:{click:function(e){return t.handleClick("accredited")}}},[t._v("Accredited")]),t._v(" "),n("p",{on:{click:function(e){return t.handleClick("non-accredited")}}},[t._v("Non-accredited")])]),t._v(" "),n("h6",[t._v("LGAs")]),t._v(" "),n("li",[n("div",{staticClass:"form-group px-2"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.lga,expression:"lga"}],staticClass:"custom-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.lga=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"selected",disabled:""}},[t._v("Select one")]),t._v(" "),t._l(t.lgas,(function(e,a){return n("option",{key:a,domProps:{value:e.name}},[t._v(t._s(e.name))])}))],2)])])])])]),t._v(" "),n("div",{staticClass:"right_side"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("h4",{staticClass:"filter_item mb-3"},[t._v(t._s(t.filter_item)+" Schools")]),t._v(" "),n("small",{staticClass:"reset",on:{click:t.reset}},[t._v("Reset filter")])]),t._v(" "),n("div",{staticClass:"top_bar"},[n("div",{staticClass:"bar border-right"},[t.first_page?n("i",{staticClass:"fa fa-angle-double-left pr-2",attrs:{"aria-hidden":"true"},on:{click:t.firstPage}}):t._e(),t._v(" "),t.prev_page?n("i",{staticClass:"fas fa-angle-left pr-2",on:{click:t.prev}}):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.current_page,expression:"current_page"}],staticClass:"row_numb pl-2",attrs:{type:"number"},domProps:{value:t.current_page},on:{input:function(e){e.target.composing||(t.current_page=e.target.value)}}}),t._v(" "),t.next_page?n("i",{staticClass:"fas fa-angle-right pl-2",attrs:{"aria-hidden":"true"},on:{click:t.next}}):t._e(),t._v(" "),t.last_page?n("i",{staticClass:"fa fa-angle-double-right pl-2",attrs:{"aria-hidden":"true"},on:{click:t.lastPage}}):t._e()]),t._v(" "),n("div",{staticClass:"bar border-right"},[t._v("Number of rows "+t._s(t.row_number))]),t._v(" "),n("div",{staticClass:"bar border-right"},[t._v("Total Schools "+t._s(t.total_schools))]),t._v(" "),t.admin?n("div",{staticClass:"bar"},[n("label",{staticClass:"custom-control custom-checkbox m-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item,expression:"item"}],attrs:{type:"checkbox",value:"checkedValue"},domProps:{checked:Array.isArray(t.item)?t._i(t.item,"checkedValue")>-1:t.item},on:{change:function(e){var n=t.item,a=e.target,i=!!a.checked;if(Array.isArray(n)){var r="checkedValue",o=t._i(n,r);a.checked?o<0&&(t.item=n.concat([r])):o>-1&&(t.item=n.slice(0,o).concat(n.slice(o+1)))}else t.item=i}}}),t._v(" "),n("span",{staticClass:"custom-control-indicator"},[t._v("Select all")])])]):t._e(),t._v(" "),n("div",{staticClass:"bar"},[n("div",{staticClass:"form-group search_bar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search_input rounded-pill",attrs:{type:"text","aria-describedby":"helpId",placeholder:"Search row"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),n("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),n("div",{},[t.sortedSchools.length?n("b-table",{attrs:{items:t.sortedSchools,fields:t.fields},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[t._v("\n         "+t._s(e.index+1)+"\n        ")]}},{key:"cell(email)",fn:function(e){return[n("span",[t._v(t._s("null"==e.item.email?"-":e.item.email))])]}},{key:"cell(address)",fn:function(e){return[n("span",[t._v(t._s("null"==e.item.address?"-":e.item.address))])]}},{key:"cell(phone_no)",fn:function(e){return[n("span",[t._v(t._s("null"==e.item.phone_no?"-":e.item.phone_no))])]}},{key:"cell(action)",fn:function(e){return[n("span",{staticClass:"action",on:{click:function(n){return t.viewSchool(e.item.id)}}},[n("span",{staticClass:"mobile-none"},[t._v("View")])])]}}],null,!1,1254706775)}):n("div",{staticClass:"text-center form-control"},[t._v("\n          No record avaialble !\n        ")]),t._v(" "),n("div",{staticClass:"navigation"},[t.prev_page?n("button",{staticClass:"prev_button",attrs:{type:"button"},on:{click:t.prev}},[n("i",{staticClass:"fa fa-arrow-circle-left mc1 prev",attrs:{"aria-hidden":"true"}}),t._v(" Prev\n          ")]):t._e(),t._v(" "),t.next_page?n("button",{staticClass:"next_button",on:{click:t.next}},[t._v("\n            Next\n            "),n("i",{staticClass:"fa fa-arrow-circle-right mc1 next",attrs:{"aria-hidden":"true"}})]):t._e()])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("  Filters "),e("i",{staticClass:"fa fa-long-arrow-up",attrs:{"aria-hidden":"true"}})])}],!1,null,"22c3fea2",null);e.default=r.exports},"O/xH":function(t,e,n){var a=n("hvld");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},hvld:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'@charset "UTF-8";\n.container-fluid[data-v-22c3fea2] {\n  background: #f7f8fa;\n}\n.main-content[data-v-22c3fea2] {\n  width: 100%;\n  margin: 0 auto;\n  min-height: 100vh;\n  display: flex;\n  padding: 20px;\n}\n.filter_item[data-v-22c3fea2] {\n  text-transform: capitalize;\n}\n.action[data-v-22c3fea2] {\n  cursor: pointer;\n}\n.action_icon[data-v-22c3fea2] {\n  font-size: 13px;\n}\nth[data-v-22c3fea2] {\n  font-size: 13px;\n}\nh6[data-v-22c3fea2] {\n  color: #0F7A8A;\n}\n.navigation[data-v-22c3fea2] {\n  display: flex;\n  width: 40%;\n  margin: 0 auto;\n  justify-content: space-between;\n  margin-top: 30px;\n}\n.prev[data-v-22c3fea2],\n.next[data-v-22c3fea2] {\n  font-size: 14px;\n}\n.prev_button[data-v-22c3fea2],\n.next_button[data-v-22c3fea2] {\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  font-size: 12px;\n}\n.fa-minus-circle[data-v-22c3fea2]:before {\n  content: "\\F056";\n  color: #dc3545;\n}\n.button[data-v-22c3fea2] {\n  padding: 8px 32px;\n  box-shadow: 0px 0px 12px -2px rgba(0, 0, 0, 0.5);\n  line-height: 1.25;\n  background: #dc3545;\n  text-decoration: none;\n  color: white;\n  font-size: 13px;\n  letter-spacing: 0.08em;\n  text-transform: initial;\n  position: relative;\n  transition: background-color 0.6s ease;\n  overflow: hidden;\n}\n.button[data-v-22c3fea2]:after {\n  content: "";\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: 50%;\n  left: 50%;\n  transform-style: flat;\n  transform: translate3d(-50%, -50%, 0);\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 100%;\n  transition: width 0.3s ease, height 0.3s ease;\n}\n.button[data-v-22c3fea2]:focus, .button[data-v-22c3fea2]:hover {\n  background: #ca2333;\n}\n.button[data-v-22c3fea2]:active:after {\n  width: 200px;\n  height: 200px;\n}\n.reset[data-v-22c3fea2] {\n  cursor: pointer;\n}\n.top_bar[data-v-22c3fea2] {\n  padding: 5px;\n  background: #f7fafa;\n  margin-bottom: 15px;\n  display: flex;\n  justify-content: space-between;\n  font-size: 13px;\n  align-items: center;\n}\n.row_numb[data-v-22c3fea2] {\n  width: 30px;\n}\n.row_numb[data-v-22c3fea2]::-webkit-input-placeholder {\n  text-align: center;\n}\n.row_numb[data-v-22c3fea2]::-moz-placeholder {\n  text-align: center;\n}\n.row_numb[data-v-22c3fea2]:-ms-input-placeholder {\n  text-align: center;\n}\n.row_numb[data-v-22c3fea2]::-ms-input-placeholder {\n  text-align: center;\n}\n.row_numb[data-v-22c3fea2]::placeholder {\n  text-align: center;\n}\n.bar[data-v-22c3fea2] {\n  position: relative;\n  padding-right: 15px;\n}\nbutton[data-v-22c3fea2]:focus {\n  outline: none;\n}\n.left_side[data-v-22c3fea2] {\n  width: 25%;\n  height: 100vh;\n  z-index: 99;\n}\n.side_bar[data-v-22c3fea2] {\n  background: white;\n  border-radius: 5px;\n  min-height: 400px;\n  width: 90%;\n  padding: 20px 0;\n}\n.search_bar[data-v-22c3fea2] {\n  position: relative;\n  margin-bottom: 0;\n}\n.search_input[data-v-22c3fea2] {\n  border-color: #f7f8fa;\n  height: 25px;\n  font-size: 13px;\n}\n.form-control[data-v-22c3fea2]::-webkit-input-placeholder {\n  font-size: 13px;\n}\n.form-control[data-v-22c3fea2]::-moz-placeholder {\n  font-size: 13px;\n}\n.form-control[data-v-22c3fea2]:-ms-input-placeholder {\n  font-size: 13px;\n}\n.form-control[data-v-22c3fea2]::-ms-input-placeholder {\n  font-size: 13px;\n}\n.form-control[data-v-22c3fea2]::placeholder {\n  font-size: 13px;\n}\n.fa-search[data-v-22c3fea2] {\n  position: absolute;\n  font-size: 12px;\n  right: 14px;\n  top: 50%;\n  margin-top: -6px;\n  color: rgba(0, 0, 0, 0.44);\n}\nul h6[data-v-22c3fea2] {\n  padding: 10px 15px;\n}\nli p[data-v-22c3fea2] {\n  font-size: 15px;\n  font-weight: 200;\n  padding: 6px 40px;\n  margin: 0;\n}\nli p[data-v-22c3fea2]:hover {\n  background: #f7f8fa;\n  cursor: pointer;\n}\nli[data-v-22c3fea2] {\n  border-bottom: 1px solid #f7f8fa;\n}\n.right_side[data-v-22c3fea2] {\n  width: 75%;\n  min-height: 100vh;\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n}\n.mobile-filter[data-v-22c3fea2] {\n  display: none;\n}\n@media (max-width: 1024px) {\n.main-content[data-v-22c3fea2] {\n    width: 100%;\n    padding: 20px 0;\n    position: relative;\n}\n}\n@media (max-width: 768px) {\n.side_bar[data-v-22c3fea2] {\n    height: auto;\n    overflow: hidden;\n    min-height: auto;\n    padding: 15px 10px;\n    width: 100%;\n    background: #f7f8fa;\n    position: relative;\n}\n.left_side[data-v-22c3fea2] {\n    width: 100%;\n    position: fixed;\n    height: auto;\n    z-index: 99;\n    bottom: 0;\n}\n.right_side[data-v-22c3fea2] {\n    width: 100%;\n    z-index: 1;\n}\n.mobile-filter[data-v-22c3fea2] {\n    display: block;\n    text-align: center;\n}\n.container-fluid[data-v-22c3fea2] {\n    padding: 0;\n}\n.main-content[data-v-22c3fea2] {\n    padding-top: 0;\n}\n.mobile-filter-option[data-v-22c3fea2] {\n    position: absolute;\n    right: 10px;\n    top: 70px;\n    width: 50%;\n}\n.top_bar[data-v-22c3fea2] {\n    flex-direction: column;\n}\n.bar[data-v-22c3fea2] {\n    margin-bottom: 10px;\n    border: none !important;\n}\nli p[data-v-22c3fea2] {\n    font-size: 14px;\n}\n}',""])},vhI4:function(t,e,n){"use strict";var a=n("O/xH");n.n(a).a}}]);