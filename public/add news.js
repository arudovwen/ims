(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/B7z":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n#form[data-v-1afc6a1a] {\n  padding: 20px;\n}\n.custom-control-input[data-v-1afc6a1a] {\n  opacity: 1;\n  z-index: 0;\n}\n.progress[data-v-1afc6a1a] {\n  height: 20px;\n}\n",""])},"9khb":function(t,e,a){"use strict";a.r(e);var o={data:function(){return{type:this.$route.params.type,project:{name:"",cover_mage:"",about:""},placeholder:"/images/placeholder.png",filesSelectedLength:null,progress:null,uploadedFileUrl:"",cloudinary:{uploadPreset:"knkccgjv",apiKey:"634813511968181",cloudName:"bizguruh-com"}}},components:{"app-editor":a("ynI1").a},mounted:function(){},methods:{submit:function(){var t=this;axios.post("/api/create-project",this.project).then((function(e){201==e.status&&(t.$toasted.info("Created successfully"),t.project={name:"",cover_mage:"",about:""})}))},handleFileChange:function(t){var e=t.target.files[0];this.loadCoverFile(e)},loadCoverFile:function(t){var e=this,a=new FileReader;a.onload=function(t){e.placeholder=t.target.result},a.readAsDataURL(t),this.processUpload(t)},processUpload:function(t){var e=this,a=this;this.start=!0;var o=new FormData,r=new XMLHttpRequest,s=this.cloudinary.cloudName,i=this.cloudinary.uploadPreset;o.append("file",t),o.append("resource_type","auto"),o.append("upload_preset",i),r.open("POST","https://api.cloudinary.com/v1_1/"+s+"/upload"),r.upload.onprogress=function(t){t.lengthComputable&&(a.progress=Math.round(t.loaded/t.total*100)+"%")},r.upload.onloadstart=function(t){this.progress="Starting..."},r.upload.onloadend=function(t){this.progress="Completing.."},r.onload=function(t){if(200===r.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var a=JSON.parse(r.response);e.uploadedFileUrl=a.secure_url,e.project.cover_image=a.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},r.send(o)},upload_handler:function(t,e,a){var o,r;(o=new XMLHttpRequest).withCredentials=!1,o.open("POST","/api/image-upload"),o.onload=function(){var t;200==o.status?(t=JSON.parse(o.responseText))&&"string"==typeof t.location?e(t.location):a("Invalid JSON: "+o.responseText):a("HTTP Error: "+o.status)},(r=new FormData).append("file",t.blob()),o.send(r)},loadFile:function(t,e,a){var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.onchange=function(){var e=this.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=function(){var o="blobid"+(new Date).getTime(),r=tinymce.activeEditor.editorUpload.blobCache,s=a.result.split(",")[1],i=r.create(o,e,s);r.add(i),t(i.blobUri(),{title:e.name})}},o.click()}}},r=(a("mbtb"),a("KHd+")),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("legend",[t._v("Create new "+t._s(t.type))]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Project name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.name,expression:"project.name"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title","aria-describedby":"helpId",placeholder:"Enter title"},domProps:{value:t.project.name},on:{input:function(e){e.target.composing||t.$set(t.project,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("About")]),t._v(" "),a("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount a11ychecker advcode  formatpainter linkchecker autolink lists media mediaembed   table  tinymcespellchecker",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:300,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,a,o){t.upload_handler(e,a,o)},file_picker_callback:function(e,a,o){t.loadFile(e,a,o)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:t.project.about,callback:function(e){t.$set(t.project,"about",e)},expression:"project.about"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cover"}},[t._v("Cover Image")]),t._v(" "),a("label",{staticClass:"custom-file"},[a("img",{attrs:{src:t.placeholder,height:"100",alt:""}}),t._v(" "),a("input",{staticClass:"custom-file-input",attrs:{type:"file",name:"cover",id:"cover","aria-describedby":"fileHelpId"},on:{change:function(e){return t.handleFileChange(e)}}}),t._v(" "),a("div",{staticClass:"progress-bar progress-bar-striped active",style:{width:t.progress},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(t._s(t.progress))])])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"button-green",attrs:{type:"submit"}},[this._v("Create")])])}],!1,null,"450a3a0d",null);e.default=s.exports},ArND:function(t,e,a){"use strict";var o=a("v+tN");a.n(o).a},"HR+N":function(t,e,a){var o=a("bc/f");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,r);o.locals&&(t.exports=o.locals)},PCe0:function(t,e,a){"use strict";a.r(e);var o={data:function(){return{type:this.$route.params.type,post:{subject:"",author:"",category:"selected",featured:!1,coverImage:"",content:""},spin:!1,categories:[],placeholder:"/images/placeholder.png",filesSelectedLength:null,progress:null,uploadedFileUrl:"",cloudinary:{uploadPreset:"knkccgjv",apiKey:"634813511968181",cloudName:"bizguruh-com"}}},components:{"app-editor":a("ynI1").a},mounted:function(){this.getCategories()},methods:{getCategories:function(){var t=this;axios.get("/api/news-categories").then((function(e){t.categories=e.data}))},submit:function(){var t=this;this.spin=!0,"news"==this.type?axios.post("/api/create-news",this.post).then((function(e){201==e.status&&(t.$toasted.success("Created successfully"),t.$router.push("/admin/news"),t.spin=!1)})).catch((function(e){t.spin=!1})):axios.post("/api/create-announcement",this.post).then((function(e){201==e.status&&(t.$toasted.success("Created successfully"),t.$router.push("/admin/news"),t.spin=!1)})).catch((function(e){t.spin=!1}))},draft:function(){var t=this;"news"==this.type&&axios.post("/api/save-draft",this.post).then((function(e){200==e.status&&t.$toasted.info("Saved to draft")}))},handleFileChange:function(t){var e=t.target.files[0];this.loadCoverFile(e)},loadCoverFile:function(t){var e=this,a=new FileReader;a.onload=function(t){e.placeholder=t.target.result},a.readAsDataURL(t),this.processUpload(t)},processUpload:function(t){var e=this,a=this;this.start=!0;var o=new FormData,r=new XMLHttpRequest,s=this.cloudinary.cloudName,i=this.cloudinary.uploadPreset;o.append("file",t),o.append("resource_type","auto"),o.append("upload_preset",i),r.open("POST","https://api.cloudinary.com/v1_1/"+s+"/upload"),r.upload.onprogress=function(t){t.lengthComputable&&(a.progress=Math.round(t.loaded/t.total*100)+"%")},r.upload.onloadstart=function(t){this.progress="Starting..."},r.upload.onloadend=function(t){this.progress="Completing.."},r.onload=function(t){if(200===r.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var a=JSON.parse(r.response);e.uploadedFileUrl=a.secure_url,e.post.coverImage=a.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},r.send(o)},upload_handler:function(t,e,a){var o,r;(o=new XMLHttpRequest).withCredentials=!1,o.open("POST","/api/image-upload"),o.onload=function(){var t;200==o.status?(t=JSON.parse(o.responseText))&&"string"==typeof t.location?e(t.location):a("Invalid JSON: "+o.responseText):a("HTTP Error: "+o.status)},(r=new FormData).append("file",t.blob()),o.send(r)},loadFile:function(t,e,a){var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.onchange=function(){var e=this.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=function(){var o="blobid"+(new Date).getTime(),r=tinymce.activeEditor.editorUpload.blobCache,s=a.result.split(",")[1],i=r.create(o,e,s);r.add(i),t(i.blobUri(),{title:e.name})}},o.click()}}},r=(a("Uebq"),a("KHd+")),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("legend",[t._v("Create new "+t._s(t.type))]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Subject")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.subject,expression:"post.subject"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title","aria-describedby":"helpId",placeholder:"Enter title"},domProps:{value:t.post.subject},on:{input:function(e){e.target.composing||t.$set(t.post,"subject",e.target.value)}}})]),t._v(" "),"news"==t.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Author")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.author,expression:"post.author"}],staticClass:"form-control",attrs:{type:"text",name:"author",id:"author","aria-describedby":"helpId",placeholder:"Enter author name"},domProps:{value:t.post.author},on:{input:function(e){e.target.composing||t.$set(t.post,"author",e.target.value)}}})]):t._e(),t._v(" "),"news"==t.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}}),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.post.category,expression:"post.category"}],staticClass:"custom-select",attrs:{name:"category",id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.post,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"selected",disabled:""}},[t._v("Select category")]),t._v(" "),t._l(t.categories,(function(e,o){return a("option",{key:o,domProps:{value:e.category}},[t._v(t._s(e.category))])}))],2)]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Content")]),t._v(" "),a("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount  autolink lists media    table  ",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:300,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,a,o){t.upload_handler(e,a,o)},file_picker_callback:function(e,a,o){t.loadFile(e,a,o)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1),t._v(" "),"news"==t.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.featured,expression:"post.featured"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"feautured",id:"featured"},domProps:{checked:Array.isArray(t.post.featured)?t._i(t.post.featured,null)>-1:t.post.featured},on:{change:function(e){var a=t.post.featured,o=e.target,r=!!o.checked;if(Array.isArray(a)){var s=t._i(a,null);o.checked?s<0&&t.$set(t.post,"featured",a.concat([null])):s>-1&&t.$set(t.post,"featured",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.post,"featured",r)}}}),t._v(" "),a("span",{staticClass:"custom-control-indicator"},[t._v("Featured")])])]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cover"}},[t._v("Cover Image")]),t._v(" "),a("label",{staticClass:"custom-file"},[a("img",{attrs:{src:t.placeholder,height:"100",alt:""}}),t._v(" "),a("input",{staticClass:"custom-file-input",attrs:{type:"file",name:"cover",id:"cover","aria-describedby":"fileHelpId"},on:{change:function(e){return t.handleFileChange(e)}}}),t._v(" "),a("div",{staticClass:"progress-bar progress-bar-striped active w-25",style:{width:t.progress},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(t._s(t.progress))])])]),t._v(" "),a("div",{staticClass:"form-group"},["news"==t.type?a("button",{staticClass:"button-dark mr-4",attrs:{type:"button"},on:{click:t.draft}},[t._v("Save to Draft")]):t._e(),t._v(" "),a("button",{staticClass:"button-green",attrs:{type:"submit"}},[t._v("Create "),t.spin?a("b-spinner",{attrs:{small:""}}):t._e()],1)])])])}),[],!1,null,"1afc6a1a",null);e.default=s.exports},UeNQ:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n#form[data-v-46fd6c0a] {\n  padding: 20px;\n}\n.custom-control-input[data-v-46fd6c0a] {\n  opacity: 1;\n  z-index: 0;\n}\n.progress[data-v-46fd6c0a] {\n  height: 20px;\n}\n",""])},Uebq:function(t,e,a){"use strict";var o=a("jCwl");a.n(o).a},X8SC:function(t,e,a){"use strict";a.r(e);var o={data:function(){return{type:this.$route.params.type,program:{name:"",cover_mage:"",about:""},placeholder:"/images/placeholder.png",filesSelectedLength:null,progress:null,uploadedFileUrl:"",cloudinary:{uploadPreset:"knkccgjv",apiKey:"634813511968181",cloudName:"bizguruh-com"}}},components:{"app-editor":a("ynI1").a},mounted:function(){},methods:{submit:function(){var t=this;axios.post("/api/create-program",this.program).then((function(e){201==e.status&&(t.$toasted.info("Created successfully"),t.program={name:"",cover_mage:"",about:""})}))},handleFileChange:function(t){var e=t.target.files[0];this.loadCoverFile(e)},loadCoverFile:function(t){var e=this,a=new FileReader;a.onload=function(t){e.placeholder=t.target.result},a.readAsDataURL(t),this.processUpload(t)},processUpload:function(t){var e=this,a=this;this.start=!0;var o=new FormData,r=new XMLHttpRequest,s=this.cloudinary.cloudName,i=this.cloudinary.uploadPreset;o.append("file",t),o.append("resource_type","auto"),o.append("upload_preset",i),r.open("POST","https://api.cloudinary.com/v1_1/"+s+"/upload"),r.upload.onprogress=function(t){t.lengthComputable&&(a.progress=Math.round(t.loaded/t.total*100)+"%")},r.upload.onloadstart=function(t){this.progress="Starting..."},r.upload.onloadend=function(t){this.progress="Completing.."},r.onload=function(t){if(200===r.status){e.progress="Completed",setTimeout((function(){e.start=!1}),1e3);var a=JSON.parse(r.response);e.uploadedFileUrl=a.secure_url,e.program.cover_image=a.secure_url}else e.start=!1,alert("Upload failed. Please try again.")},r.send(o)},upload_handler:function(t,e,a){var o,r;(o=new XMLHttpRequest).withCredentials=!1,o.open("POST","/api/image-upload"),o.onload=function(){var t;200==o.status?(t=JSON.parse(o.responseText))&&"string"==typeof t.location?e(t.location):a("Invalid JSON: "+o.responseText):a("HTTP Error: "+o.status)},(r=new FormData).append("file",t.blob()),o.send(r)},loadFile:function(t,e,a){var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.onchange=function(){var e=this.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=function(){var o="blobid"+(new Date).getTime(),r=tinymce.activeEditor.editorUpload.blobCache,s=a.result.split(",")[1],i=r.create(o,e,s);r.add(i),t(i.blobUri(),{title:e.name})}},o.click()}}},r=(a("ArND"),a("KHd+")),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("legend",[t._v("Create new "+t._s(t.type))]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Program name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.program.name,expression:"program.name"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title","aria-describedby":"helpId",placeholder:"Enter title"},domProps:{value:t.program.name},on:{input:function(e){e.target.composing||t.$set(t.program,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("About")]),t._v(" "),a("app-editor",{staticClass:"form-control",attrs:{apiKey:"b2xt6tkzh0bcxra613xpq9319rtgc3nfwqbzh8tn6tckbgv3",init:{selector:"textarea",toolbar_mode:"floating",plugins:"advlist autolink lists link image imagetools charmap print preview anchor insertdatetime media table paste code help wordcount a11ychecker advcode  formatpainter linkchecker autolink lists media mediaembed   table  tinymcespellchecker",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |image help | a11ycheck addcomment showcomments casechange checklist code formatpainter  table",image_title:!0,height:300,file_picker_types:"image",automatic_uploads:!1,relative_urls:!1,convert_urls:!1,images_upload_handler:function(e,a,o){t.upload_handler(e,a,o)},file_picker_callback:function(e,a,o){t.loadFile(e,a,o)},images_dataimg_filter:function(t){return t.hasAttribute("internal-blob")}}},model:{value:t.program.about,callback:function(e){t.$set(t.program,"about",e)},expression:"program.about"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cover"}},[t._v("Cover Image")]),t._v(" "),a("label",{staticClass:"custom-file"},[a("img",{attrs:{src:t.placeholder,height:"100",alt:""}}),t._v(" "),a("input",{staticClass:"custom-file-input",attrs:{type:"file",name:"cover",id:"cover","aria-describedby":"fileHelpId"},on:{change:function(e){return t.handleFileChange(e)}}}),t._v(" "),a("div",{staticClass:"progress-bar progress-bar-striped active",style:{width:t.progress},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(t._s(t.progress))])])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"button-green",attrs:{type:"submit"}},[this._v("Create")])])}],!1,null,"46fd6c0a",null);e.default=s.exports},"bc/f":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n#form[data-v-450a3a0d] {\n  padding: 20px;\n}\n.custom-control-input[data-v-450a3a0d] {\n  opacity: 1;\n  z-index: 0;\n}\n.progress[data-v-450a3a0d] {\n  height: 20px;\n}\n",""])},jCwl:function(t,e,a){var o=a("/B7z");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,r);o.locals&&(t.exports=o.locals)},mbtb:function(t,e,a){"use strict";var o=a("HR+N");a.n(o).a},"v+tN":function(t,e,a){var o=a("UeNQ");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,r);o.locals&&(t.exports=o.locals)}}]);